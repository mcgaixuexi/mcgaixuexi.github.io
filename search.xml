<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>LeetCodeåˆ·é¢˜</title>
      <link href="/posts/af355a99/"/>
      <url>/posts/af355a99/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-LeetCodeç®—æ³•é¢˜æ¯æ—¥ä¸€ç»ƒğŸ˜„-center"><center>LeetCodeç®—æ³•é¢˜æ¯æ—¥ä¸€ç»ƒğŸ˜„</center></h4><a id="more"></a><p>1.å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°</p><p>ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æœ‰åºæ•°ç»„ nums1 å’Œ nums2ã€‚</p><p>è¯·ä½ æ‰¾å‡ºè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m + n))ã€‚</p><p>ä½ å¯ä»¥å‡è®¾ nums1 å’Œ nums2 ä¸ä¼šåŒæ—¶ä¸ºç©ºã€‚</p><p>ç¤ºä¾‹ 1:</p><p>nums1 = [1, 3]</p><p>nums2 = [2]</p><p>åˆ™ä¸­ä½æ•°æ˜¯ 2.0</p><p>ç¤ºä¾‹ 2:</p><p>nums1 = [1, 2]</p><p>nums2 = [3, 4]</p><p>åˆ™ä¸­ä½æ•°æ˜¯ (2 + 3)/2 = 2.5</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findMedianSortedArrays = <span class="function"><span class="keyword">function</span>(<span class="params">nums1, nums2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nums2.length;i++)&#123;</span><br><span class="line">        nums1.push(nums2[i])</span><br><span class="line">    &#125;</span><br><span class="line">    nums1=nums1.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b-a&#125;);</span><br><span class="line">    <span class="keyword">if</span>(nums1.length%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (nums1[nums1.length/<span class="number">2</span>]+nums1[nums1.length/<span class="number">2</span><span class="number">-1</span>])/<span class="number">2</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;<span class="keyword">return</span> nums1[(nums1.length<span class="number">-1</span>)/<span class="number">2</span>]&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>2.æœ€é•¿å›æ–‡å­ä¸²</p><p>é¢˜ç›®æè¿°</p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚</p><p>ç¤ºä¾‹</p><p>è¾“å…¥: â€œbabadâ€</p><p>è¾“å‡º: â€œbabâ€</p><p>æ³¨æ„: â€œabaâ€ ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚</p><p>è¾“å…¥: â€œcbbdâ€</p><p>è¾“å‡º: â€œbbâ€</p><p>è¿™é¢˜è¦ç”¨åŠ¨æ€è§„åˆ’æ¥åšï¼Œå…ˆæ˜¯åˆ¤æ–­å‡ºæ‰€æœ‰é•¿åº¦ä¸º1,2,3çš„å­ä¸²æ˜¯å¦å›æ–‡ã€‚</p><p>é•¿åº¦ä¸º1ï¼Œå¿…å®šå›æ–‡ã€‚</p><p>é•¿åº¦ä¸º2æˆ–è€…3ï¼Œå–å†³äºé¦–ä½å­—ç¬¦æ˜¯å¦ç›¸åŒã€‚</p><p>é•¿åº¦å¤§äº3ï¼Œå–å†³äºè¯¥å­ä¸²å»æ‰é¦–ä½å­—ç¬¦ä¹‹åæ˜¯å¦å›æ–‡ï¼Œå¹¶ä¸”é¦–ä½å­—ç¬¦æ˜¯å¦ç›¸åŒã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¸å¿ƒåœ¨äº dp[i][j] == dp[i+1][j-1] &amp;&amp; s[i] === s[j]</span></span><br><span class="line"><span class="keyword">var</span> longestPalindrome = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> dp = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; s.length; i++)&#123;</span><br><span class="line">        dp[i] = [];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">-1</span>, str = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; s.length; k++)&#123;</span><br><span class="line">        <span class="comment">// kä¸ºæ‰€éå†çš„å­ä¸²é•¿åº¦ - 1ï¼Œå³å·¦ä¸‹æ ‡åˆ°å³ä¸‹æ ‡çš„è·ç¦»</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i + k &lt; s.length; i++)&#123;</span><br><span class="line">            <span class="keyword">let</span> j = i + k;</span><br><span class="line">            <span class="comment">// iä¸ºå­ä¸²å¼€å§‹çš„å·¦ä¸‹æ ‡ï¼Œjä¸ºå­ä¸²å¼€å§‹çš„å³ä¸‹æ ‡</span></span><br><span class="line">            <span class="keyword">if</span>(k == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">// å½“å­ä¸²é•¿åº¦ä¸º1æ—¶ï¼Œå¿…å®šæ˜¯å›æ–‡</span></span><br><span class="line">                dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(k &lt;= <span class="number">2</span>)&#123;</span><br><span class="line">                <span class="comment">// å½“å­ä¸²é•¿åº¦ä¸º2æ—¶ï¼Œä¸¤å­—ç¬¦ç›¸åŒåˆ™ç¬¦åˆå›æ–‡ï¼Œé•¿åº¦ä¸º3ï¼Œé¦–ä½å­—ç¬¦ç›¸åŒåˆ™ç¬¦åˆå›æ–‡</span></span><br><span class="line">                <span class="keyword">if</span>(s[i] == s[j])&#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">// å½“å­ä¸²é•¿åº¦è¶…è¿‡3ï¼Œå–å†³äºå»æ‰å¤´å°¾ä¹‹åçš„å­ä¸²æ˜¯å¦å›æ–‡å¹¶ä¸”é¦–ä½å­—ç¬¦æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">                <span class="keyword">if</span>(dp[i+<span class="number">1</span>][j<span class="number">-1</span>] &amp;&amp; (s[i] == s[j]))&#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(dp[i][j] &amp;&amp; k &gt; max)&#123;</span><br><span class="line">                max = k;</span><br><span class="line">                str = s.substring(i, j + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>3.Zå­—å½¢å˜æ¢</p><p>å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²æ ¹æ®ç»™å®šçš„è¡Œæ•°ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚</p><p>æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º â€œLEETCODEISHIRINGâ€ è¡Œæ•°ä¸º 3 æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š</p><p>L C I R</p><p>E T O E S I I G</p><p>E D H N</p><p>ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼šâ€œLCIRETOESIIGEDHNâ€ã€‚</p><p>è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š</p><p>string convert(string s, int numRows);</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: s = â€œLEETCODEISHIRINGâ€, numRows = 3</p><p>è¾“å‡º: â€œLCIRETOESIIGEDHNâ€</p><p>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: s = â€œLEETCODEISHIRINGâ€, numRows = 4</p><p>è¾“å‡º: â€œLDREOEIIECIHNTSGâ€</p><p>è§£é‡Š:</p><p>L D R</p><p>E O E I I</p><p>E C I H N</p><p>T S G</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> convert = <span class="function"><span class="keyword">function</span>(<span class="params">s, numRows</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len=s.length;</span><br><span class="line">    <span class="keyword">var</span> twoRows=<span class="number">2</span>*numRows<span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">var</span> str=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>||numRows&lt;=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numRows;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j=i;j&lt;len;j+=twoRows)&#123;</span><br><span class="line">            str=str.concat(s.charAt(j));</span><br><span class="line">            <span class="keyword">if</span>(i!=<span class="number">0</span>&amp;&amp;i!=numRows<span class="number">-1</span>&amp;&amp;j<span class="number">-2</span>*i+twoRows&lt;len)&#123;</span><br><span class="line">                str=str.concat(s.charAt(j<span class="number">-2</span>*i+twoRows))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure><p>4.æ•´æ•°åè½¬</p><p>ç»™å®šä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå°†æ•´æ•°ä¸­çš„æ•°å­—è¿›è¡Œåè½¬ã€‚è¦æ±‚å¦‚ä¸‹ï¼š</p><p>åªç¿»è½¬æ•°å­—ï¼Œç¬¦å·ä½ä¸è¿›è¡Œç¿»è½¬ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯\small [-2^{31}, 2^{31}-1]ã€‚å¦‚æœåè½¬åçš„æ•´æ•°æº¢å‡ºï¼Œåˆ™è¿”å› 0ã€‚</p><p>ä¸èƒ½å€ŸåŠ©JSåŸç”Ÿçš„ reverse å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reverse = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> resultArr = [];</span><br><span class="line">    <span class="keyword">var</span> intToStr = x.toString();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=intToStr.length<span class="number">-1</span>;i&gt;<span class="number">0</span>;i--)&#123;</span><br><span class="line">        resultArr.push(intToStr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(intToStr[<span class="number">0</span>]==<span class="string">"-"</span>)&#123;</span><br><span class="line">        resultArr.unshift(<span class="string">"-"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    resultArr.push(intToStr[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">var</span> resultNum = <span class="built_in">parseInt</span>(resultArr.join(<span class="string">""</span>));</span><br><span class="line">    <span class="keyword">if</span>(resultNum&lt;= <span class="built_in">Math</span>.pow(<span class="number">-2</span>,<span class="number">31</span>) || resultNum &gt;=<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">31</span>) <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultNum;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>5.å­—ç¬¦ä¸²è½¬æ•´æ•°(atoi)</p><p>è¯·ä½ æ¥å®ç°ä¸€ä¸ª atoi å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ã€‚</p><p>é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚</p><p>å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚</p><p>è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚</p><p>æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚</p><p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚</p><p>è¯´æ˜ï¼š</p><p>å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å› INT_MAX (231 âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: â€œ42â€<br>è¾“å‡º: 42<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: &quot; -42&quot;<br>è¾“å‡º: -42<br>è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º â€˜-â€™, å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚<br>æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚<br>ç¤ºä¾‹ 3:</p><p>è¾“å…¥: â€œ4193 with wordsâ€<br>è¾“å‡º: 4193<br>è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— â€˜3â€™ ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚<br>ç¤ºä¾‹ 4:</p><p>è¾“å…¥: â€œwords and 987â€<br>è¾“å‡º: 0<br>è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ â€˜wâ€™, ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚<br>å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚<br>ç¤ºä¾‹ 5:</p><p>è¾“å…¥: â€œ-91283472332â€<br>è¾“å‡º: -2147483648<br>è§£é‡Š: æ•°å­— â€œ-91283472332â€ è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚<br>å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myAtoi = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    str=str.replace(<span class="regexp">/(^\s*)|(\s*$)/g</span>, <span class="string">""</span>);<span class="comment">//å»æ‰å­—ç¬¦ä¸²æœ€å‰é¢çš„ç©ºæ ¼ï¼Œä¸­é—´çš„ä¸ç”¨ç®¡</span></span><br><span class="line">    <span class="keyword">var</span> str1=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;str.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((str.charAt(i)==<span class="string">"-"</span>||str.charAt(i)==<span class="string">"+"</span>)&amp;&amp;i==<span class="number">0</span>)&#123;</span><br><span class="line">            str1=str1.concat(str.charAt(i))</span><br><span class="line">        &#125;<span class="comment">//å¦‚æœâ€œ+â€â€œ-â€å·åœ¨æœ€å‰é¢</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/^\d+$/</span>.test(str.charAt(i)))&#123;</span><br><span class="line">            str1=str1.concat(str.charAt(i))</span><br><span class="line">        &#125;<span class="comment">//ç”¨å­—ç¬¦ä¸²å­˜å‚¨å€¼</span></span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span><span class="comment">//ç›´æ¥è·³å‡ºforå¾ªç¯</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>(str1<span class="number">-0</span>&gt;<span class="number">2147483647</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2147483647</span></span><br><span class="line">        &#125;                      <span class="comment">//str-0   å­—ç¬¦ä¸²åŒ–ä¸ºæ•°ç»„æœ€ç®€å•ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(str1<span class="number">-0</span>&lt;<span class="number">-2147483648</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-2147483648</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isNaN</span>(str1<span class="number">-0</span>)) <span class="keyword">return</span> <span class="number">0</span><span class="comment">//"+"/"-"è¿™ç§æƒ…å†µ,è¿”å›0</span></span><br><span class="line">    <span class="keyword">return</span> str1<span class="number">-0</span>            </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myAtoi = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(<span class="built_in">Math</span>.min(<span class="built_in">parseInt</span>(str) || <span class="number">0</span>, <span class="number">2147483647</span>), <span class="number">-2147483648</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Javaä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = str.length();</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; n &amp;&amp; str.charAt(i) == <span class="string">' '</span>) &#123;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i == n || !((str.charAt(i) == <span class="string">'+'</span>) || (str.charAt(i) == <span class="string">'-'</span>) ||(str.charAt(i) &gt;= <span class="string">'0'</span> &amp;&amp; str.charAt(i) &lt;= <span class="string">'9'</span>))) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"><span class="keyword">if</span>(str.charAt(i) == <span class="string">'-'</span>) &#123;</span><br><span class="line">stringBuilder.append(<span class="string">'-'</span>);</span><br><span class="line">i++;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.charAt(i) == <span class="string">'+'</span>) &#123;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i == n || !(str.charAt(i) &gt;= <span class="string">'0'</span> &amp;&amp; str.charAt(i) &lt;= <span class="string">'9'</span>)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(i &lt; n &amp;&amp; str.charAt(i) &gt;= <span class="string">'0'</span> &amp;&amp; str.charAt(i) &lt;= <span class="string">'9'</span>) &#123;</span><br><span class="line">stringBuilder.append(str.charAt(i));</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Integer.valueOf(stringBuilder.toString());</span><br><span class="line">&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="keyword">if</span>(stringBuilder.substring(<span class="number">0</span>, <span class="number">1</span>).equals(<span class="string">"-"</span>)) &#123;</span><br><span class="line"><span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹é¢˜</title>
      <link href="/posts/879807/"/>
      <url>/posts/879807/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-å‰ç«¯åˆ·é¢˜æ¯æ—¥æ±‡æ€»ğŸ˜„-center"><center>å‰ç«¯åˆ·é¢˜æ¯æ—¥æ±‡æ€»ğŸ˜„</center></h4><a id="more"></a><p>1.è·å–urlä¸­çš„å‚æ•°</p><p>æŒ‡å®šå‚æ•°åç§°ï¼Œè¿”å›è¯¥å‚æ•°çš„å€¼ æˆ–è€… ç©ºå­—ç¬¦ä¸²</p><p>ä¸æŒ‡å®šå‚æ•°åç§°ï¼Œè¿”å›å…¨éƒ¨çš„å‚æ•°å¯¹è±¡ æˆ–è€… {}</p><p>å¦‚æœå­˜åœ¨å¤šä¸ªåŒåå‚æ•°ï¼Œåˆ™è¿”å›æ•°ç»„</p><p>è¾“å…¥ <code>http://www.nowcoder.com?key=1&amp;key=2&amp;key=3&amp;test=4#hehe</code></p><p>è¾“å‡º [1,2,3]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUrlParam</span>(<span class="params">sUrl, sKey</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">          <span class="keyword">var</span> index = sUrl.indexOf(<span class="string">'?'</span>);</span><br><span class="line">          <span class="comment">//urlæ²¡æœ‰å¸¦å‚æ•°</span></span><br><span class="line">          <span class="keyword">if</span>(index == <span class="number">-1</span>) &#123;</span><br><span class="line">              <span class="keyword">if</span>(sKey==<span class="literal">undefined</span>) &#123;</span><br><span class="line">                  <span class="keyword">return</span> obj;</span><br><span class="line">              &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> queryString = (sUrl.split(<span class="string">'?'</span>)[<span class="number">1</span>]).split(<span class="string">"#"</span>)[<span class="number">0</span>];</span><br><span class="line">          <span class="keyword">var</span> query = queryString.split(<span class="string">'&amp;'</span>);<span class="comment">//åˆ†ç¦»å‡ºæ‰€æœ‰å‚æ•°</span></span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;query.length;i++) &#123;</span><br><span class="line">              <span class="keyword">var</span> keyValue = query[i].split(<span class="string">"="</span>);</span><br><span class="line">              <span class="keyword">var</span> key = keyValue[<span class="number">0</span>];</span><br><span class="line">              <span class="keyword">var</span> value = keyValue[<span class="number">1</span>];</span><br><span class="line">              <span class="keyword">if</span>(value == <span class="string">""</span>)&#123;</span><br><span class="line">                  <span class="keyword">continue</span>;<span class="comment">//valueå€¼ä¸ºç©ºï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">              &#125;</span><br><span class="line">              <span class="comment">// hasOwnProperty()å‡½æ•°ç”¨äºæŒ‡ç¤ºä¸€ä¸ªå¯¹è±¡è‡ªèº«(ä¸åŒ…æ‹¬åŸå‹é“¾)æ˜¯å¦å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§ã€‚å¦‚æœæœ‰ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span><br><span class="line">              <span class="keyword">if</span>(obj.hasOwnProperty(key)) &#123;</span><br><span class="line">                  <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(obj[key])) &#123;<span class="comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯æ•°ç»„</span></span><br><span class="line">                      obj[key].push(value);</span><br><span class="line">                  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                      <span class="keyword">var</span> val = obj[key];</span><br><span class="line">                      obj[key] = [];</span><br><span class="line">                      obj[key].push(val);</span><br><span class="line">                      obj[key].push(value);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;<span class="comment">//æœ‰æ–°å‚æ•°ï¼Œç›´æ¥æ·»åŠ </span></span><br><span class="line">                  obj[key]=value;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//æŒ‡å®šå‚æ•°å</span></span><br><span class="line">          <span class="keyword">if</span>(sKey) &#123;</span><br><span class="line">              <span class="keyword">return</span> obj[sKey]?obj[sKey]:<span class="string">""</span>;</span><br><span class="line">          &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> obj;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯ç”¨æ­£åˆ™è¡¨è¾¾å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUrlParam2</span>(<span class="params">sUrl, sKey</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> resObj = &#123;&#125;;</span><br><span class="line">            <span class="keyword">var</span> reg = <span class="regexp">/(\w+)=(\w+)/g</span>;</span><br><span class="line">            <span class="keyword">while</span> (reg.exec(sUrl)) &#123;</span><br><span class="line">                resObj[<span class="built_in">RegExp</span>.$<span class="number">1</span>] ? resObj[<span class="built_in">RegExp</span>.$<span class="number">1</span>] = [].concat(resObj[<span class="built_in">RegExp</span>.$<span class="number">1</span>], <span class="built_in">RegExp</span>.$<span class="number">2</span>) : resObj[<span class="built_in">RegExp</span>.$<span class="number">1</span>] = <span class="built_in">RegExp</span>.$<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sKey) &#123;</span><br><span class="line">                <span class="keyword">return</span> (resObj[sKey] ? resObj[sKey] : <span class="string">''</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> resObj;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>2.æŸ¥æ‰¾ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘ä¸€ä¸ªå…±åŒçˆ¶èŠ‚ç‚¹ï¼Œå¯ä»¥åŒ…æ‹¬èŠ‚ç‚¹æœ¬èº«</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">commonParentNode</span>(<span class="params">oNode1, oNode2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (oNode1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oNode1.contains(oNode2)) &#123;</span><br><span class="line">            <span class="keyword">return</span> oNode1;</span><br><span class="line">        &#125;</span><br><span class="line">        oNode1 = oNode1.parentNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> oNode1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ ¹æ®åŒ…åï¼Œåœ¨æŒ‡å®šç©ºé—´ä¸­åˆ›å»ºå¯¹è±¡</p><p>è¾“å…¥æè¿°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namespace(&#123;<span class="attr">a</span>: &#123;<span class="attr">test</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;&#125;, <span class="string">'a.b.c.d'</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæè¿°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">a</span>: &#123;<span class="attr">test</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123;<span class="attr">c</span>: &#123;<span class="attr">d</span>: &#123;&#125;&#125;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure><p>é¢˜ç›®åˆ†æ</p><p>ç”¨.åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå–å‡ºåŒ…åï¼›</p><p>ä¿ç•™å¯¹åŸå§‹å¯¹è±¡çš„å¼•ç”¨ï¼šæŠŠåŸå¯¹è±¡ï¼š{a: {test: 1, b: 2}} æµ…æ‹·è´ç»™ ä¸€ä¸ªæ–°çš„å¯¹è±¡newNameã€‚</p><p>ç”¨hasOwnPropertyæ–¹æ³•åˆ¤æ–­ç©ºé—´åæ˜¯å¦åœ¨å¯¹è±¡ä¸­ï¼›</p><p>è‹¥ä¸åœ¨å»ºç«‹æ­¤ç©ºé—´åå±æ€§ï¼Œèµ‹å€¼ä¸ºç©ºï¼›</p><p>å°†æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç©ºé—´åå±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">namesapce</span>(<span class="params">oNamespace, sPackage</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> package = sPackage.split(<span class="string">'.'</span>);</span><br><span class="line">    <span class="keyword">var</span> newName = oNamespace;<span class="comment">//ä¿ç•™å¯¹åŸå¯¹è±¡çš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; package.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!newName.hasOwnProperty(package[i])) &#123; <span class="comment">// ç©ºé—´åä¸åœ¨å¯¹è±¡ä¸­ï¼Œå»ºç«‹æ­¤ç©ºé—´åå±æ€§ï¼Œèµ‹å€¼ä¸ºç©º</span></span><br><span class="line">            newName[package[i]] = &#123;&#125;;</span><br><span class="line">            newName = newName[package[i]];<span class="comment">//å°†æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç©ºé—´åå±æ€§</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> oNamespace;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.ä¸ºArrayå¯¹è±¡æ·»åŠ ä¸€ä¸ªå»é™¤é‡å¤é¡¹çš„æ–¹æ³•</p><p>è¾“å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">NaN</span>, <span class="number">0</span>, <span class="number">1</span>, &#123;&#125;, &#123;&#125;, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="literal">NaN</span>]</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">NaN</span>, <span class="number">0</span>, <span class="number">1</span>, &#123;&#125;, &#123;&#125;, <span class="string">'a'</span>]</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼š {}å’Œ{}æ˜¯ä¸ç›¸ç­‰çš„ï¼ŒNaNå’ŒNaNæ˜¯ä¸ç›¸ç­‰çš„ï¼Œè€Œç¤ºä¾‹ä¸­æ˜¯æ’é™¤äº†å¤šä¸ªNaNï¼Œ</p><p>åªå‰©ä¸‹ä¸€ä¸ªï¼Œè€Œ{}å¯ä»¥ä¿ç•™å¤šä¸ªï¼Œæ‰€ä»¥é€šè¿‡flagå’ŒtypeofåŒé‡å…³å¡æ¥æ§åˆ¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.uniq = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> resArr = [];</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (resArr.indexOf(<span class="keyword">this</span>[i]) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>[i] != <span class="keyword">this</span>[i] &amp;&amp; <span class="keyword">typeof</span> (<span class="keyword">this</span>[i] === <span class="string">'number'</span>)) &#123; <span class="comment">//æ’é™¤NaN</span></span><br><span class="line">                <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                    resArr.push(<span class="keyword">this</span>[i]);</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resArr.push(<span class="keyword">this</span>[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.ç”¨ JavaScript å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—å‡½æ•°,è¿”å›ç¬¬nä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</p><p>å¦‚f(1) = 1, f(2) = 1 ç­‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fib = [];</span><br><span class="line">    fib[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    fib[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">3</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        fib[i] = fib[i<span class="number">-1</span>]+fib[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> fib[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6.ä¸¤æ•°ç›¸åŠ </p><p>ç»™å‡ºä¸¤ä¸ª éç©º çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p><p>å¦‚æœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚</p><p>æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">è¾“å‡ºï¼š7 -&gt; 0 -&gt; 8</span><br><span class="line">åŸå› ï¼š342 + 465 &#x3D; 807</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *     this.next = null;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;ListNode&#125;</span> <span class="variable">l1</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;ListNode&#125;</span> <span class="variable">l2</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;ListNode&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> c1 = l1,c2 = l2,l3,c3,carry =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (c1 || c2 || carry) &#123;</span><br><span class="line">        <span class="keyword">var</span> v1=<span class="number">0</span>,v2=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(c1) &#123;</span><br><span class="line">            v1 = c1.val;</span><br><span class="line">            c1 = c1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(c2) &#123;</span><br><span class="line">            v2 = c2.val;</span><br><span class="line">            c2 = c2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        sum = v1 + v2 + carry;</span><br><span class="line">        carry = <span class="built_in">Math</span>.floor(sum / <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!c3) &#123;</span><br><span class="line">            l3 = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">            c3 = l3;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            c3.next = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">            c3 = c3.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l3;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>7.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: â€œabcabcbbâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œabcâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: â€œbbbbbâ€<br>è¾“å‡º: 1<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œbâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚<br>ç¤ºä¾‹ 3:</p><p>è¾“å…¥: â€œpwwkewâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œwkeâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œâ€œpwkeâ€ æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">s</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// newStr.indexOf(s[i]) == -1</span></span><br><span class="line"><span class="keyword">var</span> lengthOfLongestSubstring = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> str = <span class="string">''</span>;</span><br><span class="line">   <span class="keyword">var</span> len = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;s.length;i++)&#123;</span><br><span class="line"><span class="keyword">var</span> char = s.charAt(i);</span><br><span class="line"><span class="keyword">var</span> index = str.indexOf(char);</span><br><span class="line"><span class="keyword">if</span>(index === <span class="number">-1</span>)&#123;  <span class="comment">//éå†så°†å…ƒç´ æŒ¨ä¸ªæ”¾å…¥åˆ°strä¸­ï¼Œæ¯æ”¾å…¥ä¸€æ¬¡åˆ¤æ–­strä¸­æ˜¯å¦æœ‰é‡å¤é¡¹</span></span><br><span class="line">str += char;</span><br><span class="line">len = len&lt;str.length?str.length:len;<span class="comment">//è®°å½•æœ€å¤§é•¿åº¦é¡¹,æ¯æ¬¡é‡æ–°è®°å½•strè¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯å¦å¤§äºä¸Šæ¬¡ä¸€æ¬¡æœ€å¤§é¡¹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">str = str.substr(index + <span class="number">1</span>) + char; <span class="comment">//ä»å½“å‰é‡å¤é¡¹å¼€å§‹é‡æ–°è®°å½•str</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">return</span> len;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jsæ•°æ®ç»“æ„ç®—æ³•</title>
      <link href="/posts/95b5f15a/"/>
      <url>/posts/95b5f15a/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-ä»Šå¤©å­¦ä¹ çš„æ˜¯æ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­çš„æ ˆğŸ™‚-center"><center>ä»Šå¤©å­¦ä¹ çš„æ˜¯æ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­çš„æ ˆğŸ™‚</center></h4><a id="more"></a><h4 id="æ ˆçš„ç®€ä»‹">æ ˆçš„ç®€ä»‹</h4><p>æ ˆæ˜¯ä»€ä¹ˆï¼Ÿæ ˆæ˜¯ä¸€ä¸ªåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚æ ˆæœ‰å•¥ä½œç”¨ï¼Ÿæ ˆå¯ä»¥æ¨¡æ‹Ÿç®—æ³•æˆ–ç”Ÿæ´»ä¸­çš„ä¸€äº›åè¿›å…ˆå‡ºçš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ï¼Œä½ éœ€è¦å°†ä½™æ•°å€’åºè¾“å‡ºã€‚</li><li>äºŒå‰æ ‘çš„å…ˆä¸­ååºéé€’å½’éå†éƒ½ç”¨åˆ°äº†æ ˆã€‚</li><li>åœ¨ç”Ÿæ´»ä¸­ï¼Œæ ˆå¯ä»¥æ¨¡æ‹Ÿç…¤ç‚‰ä¸èœ‚çªç…¤ç­‰åœºæ™¯ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//å°è£…æ ˆç±»</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ ˆä¸­çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">this</span>.items = []</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ˆçš„ç›¸å…³æ“ä½œ</span></span><br><span class="line">    <span class="comment">// push(element):æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ åˆ°æ ˆé¡¶ä½ç½®ã€</span></span><br><span class="line">    <span class="comment">// pop():ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ </span></span><br><span class="line">    <span class="comment">// peek():è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹(è¿™ä¸ªæ–¹æ³•ä¸ä¼šç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼Œä»…ä»…è¿”å›å®ƒ)</span></span><br><span class="line">    <span class="comment">// isEmpty():å¦‚æœæ ˆé‡Œæ²¡æœ‰ä»»ä½•å…ƒç´ å°±è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span><br><span class="line">    <span class="comment">// size():è¿”å›æ ˆé‡Œçš„å…ƒç´ ä¸ªæ•°ï¼Œè¿™ä¸ªæ–¹æ³•å’Œæ•°ç»„çš„lengthå±æ€§å¾ˆç±»ä¼¼</span></span><br><span class="line">    <span class="comment">// toString():å°†æ ˆç»“æ„çš„å†…å®¹ä»¥å­—ç¬¦å½¢å¼è¿”å›</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.å°†å…ƒç´ å‹å…¥æ ˆ</span></span><br><span class="line">    Stack.prototype.push = <span class="function"><span class="keyword">function</span> (<span class="params">element</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.items.push(element)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2.ä»æ ˆä¸­å–å‡ºå…ƒç´ </span></span><br><span class="line">    Stack.prototype.pop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.items.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.æŸ¥çœ‹ä¸€ä¸‹æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">    Stack.prototype.peek = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.items[<span class="keyword">this</span>.items.length - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    Stack.prototype.isEmpty = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.items.length == <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5.è·å–æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    Stack.prototype.size = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.items.length</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 6.toStringæ–¹æ³•</span></span><br><span class="line">    Stack.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 20 10 12 8 7</span></span><br><span class="line">        <span class="keyword">var</span> resultString = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;<span class="keyword">this</span>.items.length; i++) &#123;</span><br><span class="line">            resultString += <span class="keyword">this</span>.items[i] + <span class="string">' '</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultString</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯é¢è¯•æ€»ç»“ä¸Šç¯‡</title>
      <link href="/posts/13af804e/"/>
      <url>/posts/13af804e/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-å‰ç«¯é¢è¯•çŸ¥è¯†ç‚¹ğŸ™‚-center"><center>å‰ç«¯é¢è¯•çŸ¥è¯†ç‚¹ğŸ™‚</center></h4><a id="more"></a><h2 id="CSS">CSS</h2><h3 id="1-ç›’æ¨¡å‹">1. ç›’æ¨¡å‹</h3><p>é¡µé¢æ¸²æŸ“æ—¶ï¼Œdom å…ƒç´ æ‰€é‡‡ç”¨çš„ <strong>å¸ƒå±€æ¨¡å‹</strong>ã€‚å¯é€šè¿‡<code>box-sizing</code>è¿›è¡Œè®¾ç½®ã€‚æ ¹æ®è®¡ç®—å®½é«˜çš„åŒºåŸŸå¯åˆ†ä¸ºï¼š</p><ul><li><code>content-box</code> (W3C æ ‡å‡†ç›’æ¨¡å‹)</li><li><code>border-box</code> (IE ç›’æ¨¡å‹)</li><li><code>padding-box</code></li><li><code>margin-box</code> (æµè§ˆå™¨æœªå®ç°)</li></ul><h3 id="2-BFC">2. BFC</h3><p><strong>å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</strong>ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œè®©å¤„äº BFC å†…éƒ¨çš„å…ƒç´ ä¸å¤–éƒ¨çš„å…ƒç´ ç›¸äº’éš”ç¦»ï¼Œä½¿å†…å¤–å…ƒç´ çš„å®šä½ä¸ä¼šç›¸äº’å½±å“ã€‚</p><blockquote><p>IEä¸‹ä¸º Layoutï¼Œå¯é€šè¿‡ zoom:1 è§¦å‘</p></blockquote><ul><li>è§¦å‘æ¡ä»¶:<ul><li>æ ¹å…ƒç´ </li><li><code>position: absolute/fixed</code></li><li><code>display: inline-block / table</code></li><li><code>float</code> å…ƒç´ </li><li><code>ovevflow</code> !== <code>visible</code></li></ul></li><li>è§„åˆ™:<ul><li>å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box å‚ç›´æ’åˆ—</li><li>å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å </li><li>BFC ä¸­å­å…ƒç´ çš„ margin box çš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å— (BFC) border boxçš„å·¦è¾¹ç›¸æ¥è§¦ (å­å…ƒç´  absolute é™¤å¤–)</li><li>BFC çš„åŒºåŸŸä¸ä¼šä¸ float çš„å…ƒç´ åŒºåŸŸé‡å </li><li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</li><li>æ–‡å­—å±‚ä¸ä¼šè¢«æµ®åŠ¨å±‚è¦†ç›–ï¼Œç¯ç»•äºå‘¨å›´</li></ul></li><li>åº”ç”¨:<ul><li>é˜»æ­¢<code>margin</code>é‡å </li><li>å¯ä»¥åŒ…å«æµ®åŠ¨å…ƒç´  â€”â€” æ¸…é™¤å†…éƒ¨æµ®åŠ¨(æ¸…é™¤æµ®åŠ¨çš„åŸç†æ˜¯ä¸¤ä¸ª<code>div</code>éƒ½ä½äºåŒä¸€ä¸ª BFC åŒºåŸŸä¹‹ä¸­)</li><li>è‡ªé€‚åº”ä¸¤æ å¸ƒå±€</li><li>å¯ä»¥é˜»æ­¢å…ƒç´ è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–</li></ul></li></ul><h3 id="3-å±‚å ä¸Šä¸‹æ–‡">3.å±‚å ä¸Šä¸‹æ–‡</h3><p>å…ƒç´ æå‡ä¸ºä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å›¾å±‚ï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­ <strong>(zè½´)</strong> é«˜å‡ºæ™®é€šå…ƒç´ ä¸€ç­‰ã€‚</p><ul><li>è§¦å‘æ¡ä»¶<ul><li>æ ¹å±‚å ä¸Šä¸‹æ–‡(<code>html</code>)</li><li><code>position</code></li><li>css3å±æ€§<ul><li><code>flex</code></li><li><code>transform</code></li><li><code>opacity</code></li><li><code>filter</code></li><li><code>will-change</code></li><li><code>-webkit-overflow-scrolling</code></li></ul></li></ul></li><li>å±‚å ç­‰çº§ï¼šå±‚å ä¸Šä¸‹æ–‡åœ¨zè½´ä¸Šçš„æ’åº<ul><li>åœ¨åŒä¸€å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå±‚å ç­‰çº§æ‰æœ‰æ„ä¹‰</li><li><code>z-index</code>çš„ä¼˜å…ˆçº§æœ€é«˜</li></ul></li></ul><p><img src="2.png" alt=""></p><h3 id="4-å±…ä¸­å¸ƒå±€">4. å±…ä¸­å¸ƒå±€</h3><ul><li>æ°´å¹³å±…ä¸­<ul><li>è¡Œå†…å…ƒç´ : <code>text-align: center</code></li><li>å—çº§å…ƒç´ : <code>margin: 0 auto</code></li><li><code>absolute + transform</code></li><li><code>flex + justify-content: center</code></li></ul></li><li>å‚ç›´å±…ä¸­<ul><li><code>line-height: height</code></li><li><code>absolute + transform</code></li><li><code>flex + align-items: center</code></li><li><code>table</code></li></ul></li><li>æ°´å¹³å‚ç›´å±…ä¸­<ul><li><code>absolute + transform</code></li><li><code>flex + justify-content + align-items</code></li></ul></li></ul><h3 id="5-é€‰æ‹©å™¨ä¼˜å…ˆçº§">5. é€‰æ‹©å™¨ä¼˜å…ˆçº§</h3><ul><li><code>!important</code> &gt; è¡Œå†…æ ·å¼ &gt; <code>#id</code> &gt; <code>.class</code> &gt; <code>tag</code> &gt; * &gt; ç»§æ‰¿ &gt; é»˜è®¤</li><li>é€‰æ‹©å™¨ <strong>ä»å³å¾€å·¦</strong> è§£æ</li></ul><h3 id="6-å»é™¤æµ®åŠ¨å½±å“ï¼Œé˜²æ­¢çˆ¶çº§é«˜åº¦å¡Œé™·">6.å»é™¤æµ®åŠ¨å½±å“ï¼Œé˜²æ­¢çˆ¶çº§é«˜åº¦å¡Œé™·</h3><ul><li>é€šè¿‡å¢åŠ å°¾å…ƒç´ æ¸…é™¤æµ®åŠ¨<ul><li><code>:after / &lt;br&gt; : clear: both</code></li></ul></li><li>åˆ›å»ºçˆ¶çº§ BFC</li><li>çˆ¶çº§è®¾ç½®é«˜åº¦</li></ul><h3 id="7-link-ä¸-import-çš„åŒºåˆ«">7.link ä¸ @import çš„åŒºåˆ«</h3><ul><li><code>link</code>åŠŸèƒ½è¾ƒå¤šï¼Œå¯ä»¥å®šä¹‰ RSSï¼Œå®šä¹‰ Rel ç­‰ä½œç”¨ï¼Œè€Œ<code>@import</code>åªèƒ½ç”¨äºåŠ è½½ css</li><li>å½“è§£æåˆ°<code>link</code>æ—¶ï¼Œé¡µé¢ä¼šåŒæ­¥åŠ è½½æ‰€å¼•çš„ cssï¼Œè€Œ<code>@import</code>æ‰€å¼•ç”¨çš„ css ä¼šç­‰åˆ°é¡µé¢åŠ è½½å®Œæ‰è¢«åŠ è½½</li><li><code>@import</code>éœ€è¦ IE5 ä»¥ä¸Šæ‰èƒ½ä½¿ç”¨</li><li><code>link</code>å¯ä»¥ä½¿ç”¨ js åŠ¨æ€å¼•å…¥ï¼Œ<code>@import</code>ä¸è¡Œ</li></ul><h3 id="8-CSSé¢„å¤„ç†å™¨-Sass-Less-Postcss">8. CSSé¢„å¤„ç†å™¨(Sass/Less/Postcss)</h3><p>CSSé¢„å¤„ç†å™¨çš„åŸç†: æ˜¯å°†ç±» CSS è¯­è¨€é€šè¿‡ <strong>Webpack ç¼–è¯‘</strong> è½¬æˆæµè§ˆå™¨å¯è¯»çš„çœŸæ­£ CSSã€‚åœ¨è¿™å±‚ç¼–è¯‘ä¹‹ä¸Šï¼Œä¾¿å¯ä»¥èµ‹äºˆ CSS æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¸¸ç”¨åŠŸèƒ½:</p><ul><li>åµŒå¥—</li><li>å˜é‡</li><li>å¾ªç¯è¯­å¥</li><li>æ¡ä»¶è¯­å¥</li><li>è‡ªåŠ¨å‰ç¼€</li><li>å•ä½è½¬æ¢</li><li>mixinå¤ç”¨</li></ul><p>é¢è¯•ä¸­ä¸€èˆ¬ä¸ä¼šé‡ç‚¹è€ƒå¯Ÿè¯¥ç‚¹ï¼Œä¸€èˆ¬ä»‹ç»ä¸‹è‡ªå·±åœ¨å®æˆ˜é¡¹ç›®ä¸­çš„ç»éªŒå³å¯~</p><h3 id="9-CSSåŠ¨ç”»">9.CSSåŠ¨ç”»</h3><ul><li><p><code>transition</code>: è¿‡æ¸¡åŠ¨ç”»</p><ul><li><code>transition-property</code>: å±æ€§</li><li><code>transition-duration</code>: é—´éš”</li><li><code>transition-timing-function</code>: æ›²çº¿</li><li><code>transition-delay</code>: å»¶è¿Ÿ</li><li>å¸¸ç”¨é’©å­: <code>transitionend</code></li></ul></li><li><p><code>animation / keyframes</code></p><ul><li><p><code>animation-name</code>: åŠ¨ç”»åç§°ï¼Œå¯¹åº”<code>@keyframes</code></p></li><li><p><code>animation-duration</code>: é—´éš”</p></li><li><p><code>animation-timing-function</code>: æ›²çº¿</p></li><li><p><code>animation-delay</code>: å»¶è¿Ÿ</p></li><li><p><code>animation-iteration-count</code></p><p>: æ¬¡æ•°</p><ul><li><code>infinite</code>: å¾ªç¯åŠ¨ç”»</li></ul></li><li><p><code>animation-direction</code></p><p>: æ–¹å‘</p><ul><li><code>alternate</code>: åå‘æ’­æ”¾</li></ul></li><li><p><code>animation-fill-mode</code></p><p>: é™æ­¢æ¨¡å¼</p><ul><li><code>forwards</code>: åœæ­¢æ—¶ï¼Œä¿ç•™æœ€åä¸€å¸§</li><li><code>backwards</code>: åœæ­¢æ—¶ï¼Œå›åˆ°ç¬¬ä¸€å¸§</li><li><code>both</code>: åŒæ—¶è¿ç”¨ <code>forwards / backwards</code></li></ul></li><li><p>å¸¸ç”¨é’©å­: <code>animationend</code></p></li></ul></li><li><p>åŠ¨ç”»å±æ€§: å°½é‡ä½¿ç”¨åŠ¨ç”»å±æ€§è¿›è¡ŒåŠ¨ç”»ï¼Œèƒ½æ‹¥æœ‰è¾ƒå¥½çš„æ€§èƒ½è¡¨ç°</p><ul><li><code>translate</code></li><li><code>scale</code></li><li><code>rotate</code></li><li><code>skew</code></li><li><code>opacity</code></li><li><code>color</code></li></ul></li></ul><h3 id="ç»éªŒ">ç»éªŒ</h3><p>é€šå¸¸ï¼ŒCSS å¹¶ä¸æ˜¯é‡ç‚¹çš„è€ƒå¯Ÿé¢†åŸŸï¼Œä½†è¿™å…¶å®æ˜¯ç”±äºç°åœ¨å›½å†…ä¸šç•Œå¯¹ CSS çš„ä¸“æ³¨ä¸å¤Ÿå¯¼è‡´çš„ï¼ŒçœŸæ­£ç²¾é€šå¹¶ä¸“æ³¨äº CSS çš„å›¢é˜Ÿå’Œäººæ‰å¹¶ä¸å¤šã€‚å› æ­¤å¦‚æœèƒ½åœ¨ CSS é¢†åŸŸæœ‰è‡ªå·±çš„è§è§£å’Œç»éªŒï¼Œåè€Œä¼šä¸ºç›¸å½“çš„åŠ åˆ†å’Œè„±é¢–è€Œå‡ºã€‚</p><h2 id="JavaScript">JavaScript</h2><h3 id="1-åŸå‹-æ„é€ å‡½æ•°-å®ä¾‹">1. åŸå‹ / æ„é€ å‡½æ•° / å®ä¾‹</h3><ul><li>åŸå‹<code>(prototype)</code>: ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œç”¨äºå®ç°å¯¹è±¡çš„ <strong>å±æ€§ç»§æ‰¿</strong>ã€‚å¯ä»¥ç®€å•çš„ç†è§£æˆå¯¹è±¡çš„çˆ¹ã€‚åœ¨ Firefox å’Œ Chrome ä¸­ï¼Œæ¯ä¸ª<code>JavaScript</code>å¯¹è±¡ä¸­éƒ½åŒ…å«ä¸€ä¸ª<code>__proto__</code> (éæ ‡å‡†)çš„å±æ€§æŒ‡å‘å®ƒçˆ¹(è¯¥å¯¹è±¡çš„åŸå‹)ï¼Œå¯<code>obj.__proto__</code>è¿›è¡Œè®¿é—®ã€‚</li><li>æ„é€ å‡½æ•°: å¯ä»¥é€šè¿‡<code>new</code>æ¥ <strong>æ–°å»ºä¸€ä¸ªå¯¹è±¡</strong> çš„å‡½æ•°ã€‚</li><li>å®ä¾‹: é€šè¿‡æ„é€ å‡½æ•°å’Œ<code>new</code>åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ï¼Œä¾¿æ˜¯å®ä¾‹ã€‚ <strong>å®ä¾‹é€šè¿‡__proto__æŒ‡å‘åŸå‹ï¼Œé€šè¿‡constructoræŒ‡å‘æ„é€ å‡½æ•°</strong>ã€‚</li></ul><p>è¯´äº†ä¸€å¤§å †ï¼Œå¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µé€¼ï¼Œè¿™é‡Œæ¥ä¸¾ä¸ªæ —å­ï¼Œä»¥<code>Object</code>ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„<code>Object</code>ä¾¿æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ„å»ºå®ä¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br></pre></td></tr></table></figure><p>åˆ™æ­¤æ—¶ï¼Œ <strong>å®ä¾‹ä¸ºinstance</strong>, <strong>æ„é€ å‡½æ•°ä¸ºObject</strong>ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæ„é€ å‡½æ•°æ‹¥æœ‰ä¸€ä¸ª<code>prototype</code>çš„å±æ€§æŒ‡å‘åŸå‹ï¼Œå› æ­¤åŸå‹ä¸º:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå‹</span></span><br><span class="line"><span class="keyword">const</span> prototype = <span class="built_in">Object</span>.prototype</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ¥çœ‹å‡ºä¸‰è€…çš„å…³ç³»:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å®ä¾‹.__proto__ === åŸå‹</span><br><span class="line"></span><br><span class="line">åŸå‹.constructor === æ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">æ„é€ å‡½æ•°.prototype === åŸå‹</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ¡çº¿å…¶å®æ˜¯æ˜¯åŸºäºåŸå‹è¿›è¡Œè·å–çš„ï¼Œå¯ä»¥ç†è§£æˆä¸€æ¡åŸºäºåŸå‹çš„æ˜ å°„çº¿</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚: </span></span><br><span class="line"><span class="comment">// const o = new Object()</span></span><br><span class="line"><span class="comment">// o.constructor === Object   --&gt; true</span></span><br><span class="line"><span class="comment">// o.__proto__ = null;</span></span><br><span class="line"><span class="comment">// o.constructor === Object   --&gt; false</span></span><br><span class="line">å®ä¾‹.constructor === æ„é€ å‡½æ•°</span><br></pre></td></tr></table></figure><p>æ”¾å¤§æ¥çœ‹ï¼Œæˆ‘ç”»äº†å¼ å›¾ä¾›å¤§å®¶å½»åº•ç†è§£:</p><p><img src="3.png" alt=""></p><h3 id="2-åŸå‹é“¾ï¼š">2.åŸå‹é“¾ï¼š</h3><p><strong>åŸå‹é“¾æ˜¯ç”±åŸå‹å¯¹è±¡ç»„æˆ</strong>ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>__proto__</code> å±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œ<code>__proto__</code> å°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾ã€‚æ˜¯ä¸€ä¸ªç”¨æ¥<strong>å®ç°ç»§æ‰¿å’Œå…±äº«å±æ€§</strong>çš„æœ‰é™çš„å¯¹è±¡é“¾ã€‚</p><ul><li><strong>å±æ€§æŸ¥æ‰¾æœºåˆ¶</strong>: å½“æŸ¥æ‰¾å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœå®ä¾‹å¯¹è±¡è‡ªèº«ä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œæ‰¾åˆ°æ—¶åˆ™è¾“å‡ºï¼Œä¸å­˜åœ¨æ—¶ï¼Œåˆ™ç»§ç»­æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œç›´è‡³æœ€é¡¶çº§çš„åŸå‹å¯¹è±¡<code>Object.prototype</code>ï¼Œå¦‚è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œåˆ™è¾“å‡º<code>undefined</code>ï¼›</li><li><strong>å±æ€§ä¿®æ”¹æœºåˆ¶</strong>: åªä¼šä¿®æ”¹å®ä¾‹å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿›è¡Œæ·»åŠ è¯¥å±æ€§ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹åŸå‹çš„å±æ€§æ—¶ï¼Œåˆ™å¯ä»¥ç”¨: <code>b.prototype.x = 2</code>ï¼›ä½†æ˜¯è¿™æ ·ä¼šé€ æˆæ‰€æœ‰ç»§æ‰¿äºè¯¥å¯¹è±¡çš„å®ä¾‹çš„å±æ€§å‘ç”Ÿæ”¹å˜ã€‚</li></ul><h3 id="3-æ‰§è¡Œä¸Šä¸‹æ–‡-EC">3. æ‰§è¡Œä¸Šä¸‹æ–‡(EC)</h3><p>æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªå¯¹è±¡:</p><ul><li>å®ƒåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†:<ul><li>å˜é‡å¯¹è±¡(VO)</li><li>ä½œç”¨åŸŸé“¾(è¯æ³•ä½œç”¨åŸŸ)</li><li><code>this</code>æŒ‡å‘</li></ul></li><li>å®ƒçš„ç±»å‹:<ul><li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li><li>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</li><li><code>eval</code>æ‰§è¡Œä¸Šä¸‹æ–‡</li></ul></li><li>ä»£ç æ‰§è¡Œè¿‡ç¨‹:<ul><li>åˆ›å»º <strong>å…¨å±€ä¸Šä¸‹æ–‡</strong> (global EC)</li><li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ (caller) é€è¡Œ <strong>è‡ªä¸Šè€Œä¸‹</strong> æ‰§è¡Œã€‚é‡åˆ°å‡½æ•°æ—¶ï¼Œ<strong>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong> (callee) è¢«<code>push</code>åˆ°æ‰§è¡Œæ ˆé¡¶å±‚</li><li>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ¿€æ´»ï¼Œæˆä¸º active EC, å¼€å§‹æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç ï¼Œcaller è¢«æŒ‚èµ·</li><li>å‡½æ•°æ‰§è¡Œå®Œåï¼Œcallee è¢«<code>pop</code>ç§»é™¤å‡ºæ‰§è¡Œæ ˆï¼Œæ§åˆ¶æƒäº¤è¿˜å…¨å±€ä¸Šä¸‹æ–‡ (caller)ï¼Œç»§ç»­æ‰§è¡Œ</li></ul></li></ul><h3 id="2-å˜é‡å¯¹è±¡">2.å˜é‡å¯¹è±¡</h3><p>å˜é‡å¯¹è±¡ï¼Œæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä¸€ç§ <strong>æ•°æ®ä½œç”¨åŸŸ</strong>ï¼Œå…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œå®ƒå­˜å‚¨ç€è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰ <strong>å˜é‡å’Œå‡½æ•°å£°æ˜(ä¸åŒ…å«å‡½æ•°è¡¨è¾¾å¼)</strong>ã€‚</p><blockquote><p>æ´»åŠ¨å¯¹è±¡ (AO): å½“å˜é‡å¯¹è±¡æ‰€å¤„çš„ä¸Šä¸‹æ–‡ä¸º active EC æ—¶ï¼Œç§°ä¸ºæ´»åŠ¨å¯¹è±¡ã€‚</p></blockquote><h3 id="3-ä½œç”¨åŸŸ">3. ä½œç”¨åŸŸ</h3><p>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿˜åŒ…å«ä½œç”¨åŸŸé“¾ã€‚ç†è§£ä½œç”¨åŸŸä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸‹ä½œç”¨åŸŸã€‚ä½œç”¨åŸŸå…¶å®å¯ç†è§£ä¸ºè¯¥ä¸Šä¸‹æ–‡ä¸­å£°æ˜çš„ <strong>å˜é‡å’Œå£°æ˜çš„ä½œç”¨èŒƒå›´</strong>ã€‚å¯åˆ†ä¸º <strong>å—çº§ä½œç”¨åŸŸ</strong> å’Œ <strong>å‡½æ•°ä½œç”¨åŸŸ</strong></p><p>ç‰¹æ€§:</p><ul><li><strong>å£°æ˜æå‰</strong>: ä¸€ä¸ªå£°æ˜åœ¨å‡½æ•°ä½“å†…éƒ½æ˜¯å¯è§çš„, å‡½æ•°ä¼˜å…ˆäºå˜é‡</li><li>éåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°ï¼Œå‡½æ•°å˜é‡ä¸º <strong>åªè¯»</strong> çŠ¶æ€ï¼Œæ— æ³•ä¿®æ”¹</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>) &#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    foo = <span class="number">10</span>  <span class="comment">// ç”±äºfooåœ¨å‡½æ•°ä¸­åªä¸ºå¯è¯»ï¼Œå› æ­¤èµ‹å€¼æ— æ•ˆ</span></span><br><span class="line">    <span class="built_in">console</span>.log(foo)</span><br><span class="line">&#125;()) </span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœæ‰“å°ï¼š  Æ’ foo() &#123; foo = 10 ; console.log(foo) &#125;</span></span><br></pre></td></tr></table></figure><h3 id="4-ä½œç”¨åŸŸé“¾">4.ä½œç”¨åŸŸé“¾</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è®¿é—®åˆ°çˆ¶çº§ç”šè‡³å…¨å±€çš„å˜é‡ï¼Œè¿™ä¾¿æ˜¯ä½œç”¨åŸŸé“¾çš„åŠŸåŠ³ã€‚ä½œç”¨åŸŸé“¾å¯ä»¥ç†è§£ä¸ºä¸€ç»„å¯¹è±¡åˆ—è¡¨ï¼ŒåŒ…å« <strong>çˆ¶çº§å’Œè‡ªèº«çš„å˜é‡å¯¹è±¡</strong>ï¼Œå› æ­¤æˆ‘ä»¬ä¾¿èƒ½é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®åˆ°çˆ¶çº§é‡Œå£°æ˜çš„å˜é‡æˆ–è€…å‡½æ•°ã€‚</p><ul><li>ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:<ul><li><code>[[scope]]</code>å±æ€§: æŒ‡å‘çˆ¶çº§å˜é‡å¯¹è±¡å’Œä½œç”¨åŸŸé“¾ï¼Œä¹Ÿå°±æ˜¯åŒ…å«äº†çˆ¶çº§çš„<code>[[scope]]</code>å’Œ<code>AO</code></li><li>AO: è‡ªèº«æ´»åŠ¨å¯¹è±¡</li></ul></li></ul><p>å¦‚æ­¤ <code>[[scopr]]</code>åŒ…å«<code>[[scope]]</code>ï¼Œä¾¿è‡ªä¸Šè€Œä¸‹å½¢æˆä¸€æ¡ <strong>é“¾å¼ä½œç”¨åŸŸ</strong>ã€‚</p><h3 id="5-é—­åŒ…">5. é—­åŒ…</h3><p>é—­åŒ…å±äºä¸€ç§ç‰¹æ®Šçš„ä½œç”¨åŸŸï¼Œç§°ä¸º <strong>é™æ€ä½œç”¨åŸŸ</strong>ã€‚å®ƒçš„å®šä¹‰å¯ä»¥ç†è§£ä¸º: <strong>çˆ¶å‡½æ•°è¢«é”€æ¯</strong> çš„æƒ…å†µä¸‹ï¼Œè¿”å›å‡ºçš„å­å‡½æ•°çš„<code>[[scope]]</code>ä¸­ä»ç„¶ä¿ç•™ç€çˆ¶çº§çš„å•å˜é‡å¯¹è±¡å’Œä½œç”¨åŸŸé“¾ï¼Œå› æ­¤å¯ä»¥ç»§ç»­è®¿é—®åˆ°çˆ¶çº§çš„å˜é‡å¯¹è±¡ï¼Œè¿™æ ·çš„å‡½æ•°ç§°ä¸ºé—­åŒ…ã€‚</p><ul><li>é—­åŒ…ä¼šäº§ç”Ÿä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜:<ul><li>å¤šä¸ªå­å‡½æ•°çš„<code>[[scope]]</code>éƒ½æ˜¯åŒæ—¶æŒ‡å‘çˆ¶çº§ï¼Œæ˜¯å®Œå…¨å…±äº«çš„ã€‚å› æ­¤å½“çˆ¶çº§çš„å˜é‡å¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œæ‰€æœ‰å­å‡½æ•°éƒ½å—åˆ°å½±å“ã€‚</li></ul></li><li>è§£å†³:<ul><li>å˜é‡å¯ä»¥é€šè¿‡ <strong>å‡½æ•°å‚æ•°çš„å½¢å¼</strong> ä¼ å…¥ï¼Œé¿å…ä½¿ç”¨é»˜è®¤çš„<code>[[scope]]</code>å‘ä¸ŠæŸ¥æ‰¾</li><li>ä½¿ç”¨<code>setTimeout</code>åŒ…è£¹ï¼Œé€šè¿‡ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥</li><li>ä½¿ç”¨ <strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼Œè®©å˜é‡æˆä¸ºè‡ªå·±ä¸Šä¸‹æ–‡çš„å±æ€§ï¼Œé¿å…å…±äº«</li></ul></li></ul><h3 id="6-script-å¼•å…¥æ–¹å¼ï¼š">6. script å¼•å…¥æ–¹å¼ï¼š</h3><ul><li>html é™æ€<code>&lt;script&gt;</code>å¼•å…¥</li><li>js åŠ¨æ€æ’å…¥<code>&lt;script&gt;</code></li><li><code>&lt;script defer&gt;</code>: å»¶è¿ŸåŠ è½½ï¼Œå…ƒç´ è§£æå®Œæˆåæ‰§è¡Œ</li><li><code>&lt;script async&gt;</code>: å¼‚æ­¥åŠ è½½ï¼Œä½†æ‰§è¡Œæ—¶ä¼šé˜»å¡å…ƒç´ æ¸²æŸ“</li></ul><h3 id="7-å¯¹è±¡çš„æ‹·è´">7. å¯¹è±¡çš„æ‹·è´</h3><ul><li><p>æµ…æ‹·è´: ä»¥èµ‹å€¼çš„å½¢å¼æ‹·è´å¼•ç”¨å¯¹è±¡ï¼Œä»æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œ<strong>ä¿®æ”¹æ—¶åŸå¯¹è±¡ä¹Ÿä¼šå—åˆ°å½±å“</strong></p><ul><li><code>Object.assign</code></li><li>å±•å¼€è¿ç®—ç¬¦(â€¦)</li></ul></li><li><p>æ·±æ‹·è´: å®Œå…¨æ‹·è´ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œ<strong>ä¿®æ”¹æ—¶åŸå¯¹è±¡ä¸å†å—åˆ°ä»»ä½•å½±å“</strong></p><ul><li><p><code>JSON.parse(JSON.stringify(obj))</code></p><p>: æ€§èƒ½æœ€å¿«</p><ul><li>å…·æœ‰å¾ªç¯å¼•ç”¨çš„å¯¹è±¡æ—¶ï¼ŒæŠ¥é”™</li></ul></li></ul></li><li><p>å½“å€¼ä¸ºå‡½æ•°ã€<code>undefined</code>ã€æˆ–<code>symbol</code>æ—¶ï¼Œæ— æ³•æ‹·è´</p><ul><li>é€’å½’è¿›è¡Œé€ä¸€èµ‹å€¼</li></ul></li></ul><h3 id="8-newè¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹">8. newè¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹</h3><ul><li>æ–°ç”Ÿæˆä¸€ä¸ªå¯¹è±¡</li><li>é“¾æ¥åˆ°åŸå‹: <code>obj.__proto__ = Con.prototype</code></li><li>ç»‘å®šthis: <code>apply</code></li><li>è¿”å›æ–°å¯¹è±¡(å¦‚æœæ„é€ å‡½æ•°æœ‰è‡ªå·± retrun æ—¶ï¼Œåˆ™è¿”å›è¯¥å€¼)</li></ul><h3 id="9-instanceofåŸç†">9. instanceofåŸç†</h3><p>èƒ½åœ¨å®ä¾‹çš„ <strong>åŸå‹å¯¹è±¡é“¾</strong> ä¸­æ‰¾åˆ°è¯¥æ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§æ‰€æŒ‡å‘çš„ <strong>åŸå‹å¯¹è±¡</strong>ï¼Œå°±è¿”å›<code>true</code>ã€‚å³:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// __proto__: ä»£è¡¨åŸå‹å¯¹è±¡é“¾</span></span><br><span class="line">instance.[__proto__...] === instance.constructor.prototype</span><br><span class="line"></span><br><span class="line"><span class="comment">// return true</span></span><br></pre></td></tr></table></figure><h3 id="10-ä»£ç çš„å¤ç”¨">10. ä»£ç çš„å¤ç”¨</h3><p>å½“ä½ å‘ç°ä»»ä½•ä»£ç å¼€å§‹å†™ç¬¬äºŒéæ—¶ï¼Œå°±è¦å¼€å§‹è€ƒè™‘å¦‚ä½•å¤ç”¨ã€‚ä¸€èˆ¬æœ‰ä»¥ä¸‹çš„æ–¹å¼:</p><ul><li>å‡½æ•°å°è£…</li><li>ç»§æ‰¿</li><li>å¤åˆ¶<code>extend</code></li><li>æ··å…¥<code>mixin</code></li><li>å€Ÿç”¨<code>apply/call</code></li></ul><h3 id="11-ç»§æ‰¿">11. ç»§æ‰¿</h3><p>åœ¨ JS ä¸­ï¼Œç»§æ‰¿é€šå¸¸æŒ‡çš„ä¾¿æ˜¯ <strong>åŸå‹é“¾ç»§æ‰¿</strong>ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æŒ‡å®šåŸå‹ï¼Œå¹¶å¯ä»¥é€šè¿‡åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p><ul><li>æœ€ä¼˜åŒ–: <strong>åœ£æ¯æ¨¡å¼</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params">c,p</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">c,p</span>)</span>&#123;</span><br><span class="line">F.prototype = p.prototype;</span><br><span class="line">c.prototype = <span class="keyword">new</span> F();</span><br><span class="line">c.uber = p.prototype;</span><br><span class="line">c.prototype.constructor = c;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ ES6 çš„è¯­æ³•ç³– <code>class / extends</code></li></ul><h3 id="12-ç±»å‹è½¬æ¢">12. ç±»å‹è½¬æ¢</h3><p>å¤§å®¶éƒ½çŸ¥é“ JS ä¸­åœ¨ä½¿ç”¨è¿ç®—ç¬¦å·æˆ–è€…å¯¹æ¯”ç¬¦æ—¶ï¼Œä¼šè‡ªå¸¦éšå¼è½¬æ¢ï¼Œè§„åˆ™å¦‚ä¸‹:</p><ul><li>-ã€*ã€/ã€% ï¼šä¸€å¾‹è½¬æ¢æˆæ•°å€¼åè®¡ç®—</li><li>+ï¼š<ul><li>æ•°å­— + å­—ç¬¦ä¸² = å­—ç¬¦ä¸²ï¼Œ è¿ç®—é¡ºåºæ˜¯ä»å·¦åˆ°å³</li><li>æ•°å­— + å¯¹è±¡ï¼Œ ä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„<code>valueOf</code> -&gt; <code>toString</code></li><li>æ•°å­— + <code>boolean/null</code> -&gt; æ•°å­—</li><li>æ•°å­— + <code>undefined</code> -&gt; <code>NaN</code></li></ul></li><li><code>[1].toString() === '1'</code></li><li><code>{}.toString() === '[object object]'</code></li><li><code>NaN</code> !== <code>NaN</code> ã€<code>+undefined ä¸º NaN</code></li></ul><h3 id="13-ç±»å‹åˆ¤æ–­">13. ç±»å‹åˆ¤æ–­</h3><p>åˆ¤æ–­ Target çš„ç±»å‹ï¼Œå•å•ç”¨ typeof å¹¶æ— æ³•å®Œå…¨æ»¡è¶³ï¼Œè¿™å…¶å®å¹¶ä¸æ˜¯ bugï¼Œæœ¬è´¨åŸå› æ˜¯ JS çš„ä¸‡ç‰©çš†å¯¹è±¡çš„ç†è®ºã€‚å› æ­¤è¦çœŸæ­£å®Œç¾åˆ¤æ–­æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†å¯¹å¾…:</p><ul><li>åŸºæœ¬ç±»å‹(<code>null</code>): ä½¿ç”¨ <code>String(null)</code></li><li>åŸºæœ¬ç±»å‹(<code>string / number / boolean / undefined</code>) + <code>function</code>: ç›´æ¥ä½¿ç”¨ <code>typeof</code>å³å¯</li><li>å…¶ä½™å¼•ç”¨ç±»å‹(<code>Array / Date / RegExp Error</code>): è°ƒç”¨<code>toString</code>åæ ¹æ®<code>[object XXX]</code>è¿›è¡Œåˆ¤æ–­</li></ul><p>å¾ˆç¨³çš„åˆ¤æ–­å°è£…:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> class2type = &#123;&#125;</span><br><span class="line"><span class="string">'Array Date RegExp Object Error'</span>.split(<span class="string">' '</span>).forEach(<span class="function"><span class="params">e</span> =&gt;</span> class2type[ <span class="string">'[object '</span> + e + <span class="string">']'</span> ] = e.toLowerCase()) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">String</span>(obj)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> obj === <span class="string">'object'</span> ? class2type[ <span class="built_in">Object</span>.prototype.toString.call(obj) ] || <span class="string">'object'</span> : <span class="keyword">typeof</span> obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14-æ¨¡å—">14. æ¨¡å—</h3><p>æ¨¡å—åŒ–å¼€å‘åœ¨ç°ä»£å¼€å‘ä¸­å·²æ˜¯å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¤§å¤§æé«˜äº†é¡¹ç›®çš„å¯ç»´æŠ¤ã€å¯æ‹“å±•å’Œå¯åä½œæ€§ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ <strong>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ ES6 çš„æ¨¡å—åŒ–æ”¯æŒï¼Œåœ¨ Node ä¸­ä½¿ç”¨ commonjs çš„æ¨¡å—åŒ–æ”¯æŒã€‚</strong></p><ul><li>åˆ†ç±»:<ul><li>es6: <code>import / export</code></li><li>commonjs: <code>require / module.exports / exports</code></li><li>amd: <code>require / defined</code></li></ul></li><li><code>require</code>ä¸<code>import</code>çš„åŒºåˆ«<ul><li><code>require</code>æ”¯æŒ <strong>åŠ¨æ€å¯¼å…¥</strong>ï¼Œ<code>import</code>ä¸æ”¯æŒï¼Œæ­£åœ¨ææ¡ˆ (babel ä¸‹å¯æ”¯æŒ)</li><li><code>require</code>æ˜¯ <strong>åŒæ­¥</strong> å¯¼å…¥ï¼Œ<code>import</code>å±äº <strong>å¼‚æ­¥</strong> å¯¼å…¥</li><li><code>require</code>æ˜¯ <strong>å€¼æ‹·è´</strong>ï¼Œå¯¼å‡ºå€¼å˜åŒ–ä¸ä¼šå½±å“å¯¼å…¥å€¼ï¼›<code>import</code>æŒ‡å‘ <strong>å†…å­˜åœ°å€</strong>ï¼Œå¯¼å…¥å€¼ä¼šéšå¯¼å‡ºå€¼è€Œå˜åŒ–</li></ul></li></ul><h3 id="15-é˜²æŠ–ä¸èŠ‚æµ">15. é˜²æŠ–ä¸èŠ‚æµ</h3><p>é˜²æŠ–ä¸èŠ‚æµå‡½æ•°æ˜¯ä¸€ç§æœ€å¸¸ç”¨çš„ <strong>é«˜é¢‘è§¦å‘ä¼˜åŒ–æ–¹å¼</strong>ï¼Œèƒ½å¯¹æ€§èƒ½æœ‰è¾ƒå¤§çš„å¸®åŠ©ã€‚</p><ul><li><strong>é˜²æŠ– (debounce)</strong>: å°†å¤šæ¬¡é«˜é¢‘æ“ä½œä¼˜åŒ–ä¸ºåªåœ¨æœ€åä¸€æ¬¡æ‰§è¡Œï¼Œé€šå¸¸ä½¿ç”¨çš„åœºæ™¯æ˜¯ï¼šç”¨æˆ·è¾“å…¥ï¼Œåªéœ€å†è¾“å…¥å®Œæˆååšä¸€æ¬¡è¾“å…¥æ ¡éªŒå³å¯ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait, immediate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span></span><br><span class="line">        <span class="keyword">let</span> context = <span class="keyword">this</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (immediate &amp;&amp; !timer) &#123;</span><br><span class="line">            fn.apply(context, args)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (timer) clearTimeout(timer)</span><br><span class="line">        timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            fn.apply(context, args)</span><br><span class="line">        &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>èŠ‚æµ(throttle)</strong>: æ¯éš”ä¸€æ®µæ—¶é—´åæ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯é™ä½é¢‘ç‡ï¼Œå°†é«˜é¢‘æ“ä½œä¼˜åŒ–æˆä½é¢‘æ“ä½œï¼Œé€šå¸¸ä½¿ç”¨åœºæ™¯: æ»šåŠ¨æ¡äº‹ä»¶ æˆ–è€… resize äº‹ä»¶ï¼Œé€šå¸¸æ¯éš” 100~500 msæ‰§è¡Œä¸€æ¬¡å³å¯ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, wait, immediate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> callNow = immediate</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="keyword">this</span>,</span><br><span class="line">            args = <span class="built_in">arguments</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">            fn.apply(context, args)</span><br><span class="line">            callNow = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                fn.apply(context, args)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, wait)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16-å‡½æ•°æ‰§è¡Œæ”¹å˜this">16. å‡½æ•°æ‰§è¡Œæ”¹å˜this</h3><p>ç”±äº JS çš„è®¾è®¡åŸç†: åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥å¼•ç”¨è¿è¡Œç¯å¢ƒä¸­çš„å˜é‡ã€‚å› æ­¤å°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥è®©æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨è·å–å½“å‰çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¾¿æ˜¯<code>this</code>ã€‚</p><p>å› æ­¤è¦æ˜ç™½ <code>this</code> æŒ‡å‘ï¼Œå…¶å®å°±æ˜¯è¦ææ¸…æ¥š å‡½æ•°çš„è¿è¡Œç¯å¢ƒï¼Œè¯´äººè¯å°±æ˜¯ï¼Œè°è°ƒç”¨äº†å‡½æ•°ã€‚ä¾‹å¦‚:</p><ul><li><code>obj.fn()</code>ï¼Œä¾¿æ˜¯ <code>obj</code> è°ƒç”¨äº†å‡½æ•°ï¼Œæ—¢å‡½æ•°ä¸­çš„ <code>this === obj</code></li><li><code>fn()</code>ï¼Œè¿™é‡Œå¯ä»¥çœ‹æˆ <code>window.fn()</code>ï¼Œå› æ­¤ <code>this === window</code></li></ul><p>ä½†è¿™ç§æœºåˆ¶å¹¶ä¸å®Œå…¨èƒ½æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå› æ­¤æä¾›äº†ä¸‰ç§æ–¹å¼å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ <code>this</code> çš„æŒ‡å‘:</p><ul><li><code>call: fn.call(target, 1, 2)</code></li><li><code>apply: fn.apply(target, [1, 2])</code></li><li><code>bind: fn.bind(target)(1,2)</code></li></ul><h3 id="17-ES6-ES7">17. ES6/ES7</h3><p>ç”±äº Babel çš„å¼ºå¤§å’Œæ™®åŠï¼Œç°åœ¨ ES6/ES7 åŸºæœ¬ä¸Šå·²ç»æ˜¯ç°ä»£åŒ–å¼€å‘çš„å¿…å¤‡äº†ã€‚é€šè¿‡æ–°çš„è¯­æ³•ç³–ï¼Œèƒ½è®©ä»£ç æ•´ä½“æ›´ä¸ºç®€æ´å’Œæ˜“è¯»ã€‚</p><ul><li><p>å£°æ˜</p><ul><li><code>let / const</code>: å—çº§ä½œç”¨åŸŸã€ä¸å­˜åœ¨å˜é‡æå‡ã€æš‚æ—¶æ€§æ­»åŒºã€ä¸å…è®¸é‡å¤å£°æ˜</li><li><code>const</code>: å£°æ˜å¸¸é‡ï¼Œæ— æ³•ä¿®æ”¹</li></ul></li><li><p>è§£æ„èµ‹å€¼</p></li><li><p><code>class / extend</code>: ç±»å£°æ˜ä¸ç»§æ‰¿</p></li><li><p><code>Set / Map</code>: æ–°çš„æ•°æ®ç»“æ„</p></li><li><p>å¼‚æ­¥è§£å†³æ–¹æ¡ˆ:</p><ul><li><code>Promise</code>çš„ä½¿ç”¨ä¸å®ç°</li><li><code>generator</code>:<ul><li><code>yield</code>: æš‚åœä»£ç </li><li><code>next()</code>: ç»§ç»­æ‰§è¡Œä»£ç </li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">helloWorld</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'hello'</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'world'</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'ending'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generator = helloWorld();</span><br><span class="line"></span><br><span class="line">generator.next()  <span class="comment">// &#123; value: 'hello', done: false &#125;</span></span><br><span class="line"></span><br><span class="line">generator.next()  <span class="comment">// &#123; value: 'world', done: false &#125;</span></span><br><span class="line"></span><br><span class="line">generator.next()  <span class="comment">// &#123; value: 'ending', done: true &#125;</span></span><br><span class="line"></span><br><span class="line">generator.next()  <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><ul><li><code>await / async</code>: æ˜¯<code>generator</code>çš„è¯­æ³•ç³–ï¼Œ babelä¸­æ˜¯åŸºäº<code>promise</code>å®ç°ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getUserByAsync</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> user = <span class="keyword">await</span> fetchUser();</span><br><span class="line">   <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> getUserByAsync()</span><br><span class="line"><span class="built_in">console</span>.log(user)</span><br></pre></td></tr></table></figure></li></ul><h3 id="18-AST">18. AST</h3><p><strong>æŠ½è±¡è¯­æ³•æ ‘ (Abstract Syntax Tree)</strong>ï¼Œæ˜¯å°†ä»£ç é€å­—æ¯è§£ææˆ <strong>æ ‘çŠ¶å¯¹è±¡</strong> çš„å½¢å¼ã€‚è¿™æ˜¯è¯­è¨€ä¹‹é—´çš„è½¬æ¢ã€ä»£ç è¯­æ³•æ£€æŸ¥ï¼Œä»£ç é£æ ¼æ£€æŸ¥ï¼Œä»£ç æ ¼å¼åŒ–ï¼Œä»£ç é«˜äº®ï¼Œä»£ç é”™è¯¯æç¤ºï¼Œä»£ç è‡ªåŠ¨è¡¥å…¨ç­‰ç­‰çš„åŸºç¡€ã€‚ä¾‹å¦‚:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> n * n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è§£æè½¬åŒ–æˆçš„<code>AST</code>å¦‚ä¸‹å›¾:</p><p><img src="4.png" alt=""></p><h3 id="19-babelç¼–è¯‘åŸç†">19. babelç¼–è¯‘åŸç†</h3><ul><li>babylon å°† ES6/ES7 ä»£ç è§£ææˆ AST</li><li>babel-traverse å¯¹ AST è¿›è¡Œéå†è½¬è¯‘ï¼Œå¾—åˆ°æ–°çš„ AST</li><li>æ–° AST é€šè¿‡ babel-generator è½¬æ¢æˆ ES5</li></ul><h3 id="20-å‡½æ•°æŸ¯é‡ŒåŒ–">20. å‡½æ•°æŸ¯é‡ŒåŒ–</h3><p>åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œé¦–å…ˆå¡«å……å‡ ä¸ªå‚æ•°ï¼Œç„¶åå†è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°çš„æŠ€æœ¯ï¼Œç§°ä¸ºå‡½æ•°çš„æŸ¯é‡ŒåŒ–ã€‚é€šå¸¸å¯ç”¨äºåœ¨ä¸ä¾µå…¥å‡½æ•°çš„å‰æä¸‹ï¼Œä¸ºå‡½æ•° <strong>é¢„ç½®é€šç”¨å‚æ•°</strong>ï¼Œä¾›å¤šæ¬¡é‡å¤è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> add1 = add(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">add1(<span class="number">2</span>) === <span class="number">3</span></span><br><span class="line">add1(<span class="number">20</span>) === <span class="number">21</span></span><br></pre></td></tr></table></figure><h3 id="21-æ•°ç»„-array">21. æ•°ç»„(array)</h3><ul><li><code>map</code>: éå†æ•°ç»„ï¼Œè¿”å›å›è°ƒè¿”å›å€¼ç»„æˆçš„æ–°æ•°ç»„</li><li><code>forEach</code>: æ— æ³•<code>break</code>ï¼Œå¯ä»¥ç”¨<code>try/catch</code>ä¸­<code>throw new Error</code>æ¥åœæ­¢</li><li><code>filter</code>: è¿‡æ»¤</li><li><code>some</code>: æœ‰ä¸€é¡¹è¿”å›<code>true</code>ï¼Œåˆ™æ•´ä½“ä¸º<code>true</code></li><li><code>every</code>: æœ‰ä¸€é¡¹è¿”å›<code>false</code>ï¼Œåˆ™æ•´ä½“ä¸º<code>false</code></li><li><code>join</code>: é€šè¿‡æŒ‡å®šè¿æ¥ç¬¦ç”Ÿæˆå­—ç¬¦ä¸²</li><li><code>push / pop</code>: æœ«å°¾æ¨å…¥å’Œå¼¹å‡ºï¼Œæ”¹å˜åŸæ•°ç»„ï¼Œ è¿”å›æ¨å…¥/å¼¹å‡ºé¡¹</li><li><code>unshift / shift</code>: å¤´éƒ¨æ¨å…¥å’Œå¼¹å‡ºï¼Œæ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ“ä½œé¡¹</li><li><code>sort(fn) / reverse</code>: æ’åºä¸åè½¬ï¼Œæ”¹å˜åŸæ•°ç»„</li><li><code>concat</code>: è¿æ¥æ•°ç»„ï¼Œä¸å½±å“åŸæ•°ç»„ï¼Œ æµ…æ‹·è´</li><li><code>slice(start, end)</code>: è¿”å›æˆªæ–­åçš„æ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„</li><li><code>splice(start, number, value...)</code>: è¿”å›åˆ é™¤å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œvalue ä¸ºæ’å…¥é¡¹ï¼Œæ”¹å˜åŸæ•°ç»„</li><li><code>indexOf / lastIndexOf(value, fromIndex)</code>: æŸ¥æ‰¾æ•°ç»„é¡¹ï¼Œè¿”å›å¯¹åº”çš„ä¸‹æ ‡</li><li><code>reduce / reduceRight(fn(prev, cur)ï¼Œ defaultPrev)</code>: ä¸¤ä¸¤æ‰§è¡Œï¼Œprev ä¸ºä¸Šæ¬¡åŒ–ç®€å‡½æ•°çš„<code>return</code>å€¼ï¼Œcur ä¸ºå½“å‰å€¼(ä»ç¬¬äºŒé¡¹å¼€å§‹)</li><li>æ•°ç»„ä¹±åºï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>æ•°ç»„æ‹†è§£: flat: [1,[2,3]] --&gt; [1, 2, 3]</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.flat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.toString().split(<span class="string">','</span>).map(<span class="function"><span class="params">item</span> =&gt;</span> +item )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æµè§ˆå™¨">æµè§ˆå™¨</h2><h3 id="1-è·¨æ ‡ç­¾é¡µé€šè®¯">1. è·¨æ ‡ç­¾é¡µé€šè®¯</h3><p>ä¸åŒæ ‡ç­¾é¡µé—´çš„é€šè®¯ï¼Œæœ¬è´¨åŸç†å°±æ˜¯å»è¿ç”¨ä¸€äº›å¯ä»¥ <strong>å…±äº«çš„ä¸­é—´ä»‹è´¨</strong>ï¼Œå› æ­¤æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ä»¥ä¸‹æ–¹æ³•:</p><ul><li>é€šè¿‡çˆ¶é¡µé¢<code>window.open()</code>å’Œå­é¡µé¢<code>postMessage</code><ul><li>å¼‚æ­¥ä¸‹ï¼Œé€šè¿‡ <code>window.open('about: blank')</code> å’Œ <code>tab.location.href = '*'</code></li></ul></li><li>è®¾ç½®åŒåŸŸä¸‹å…±äº«çš„<code>localStorage</code>ä¸ç›‘å¬<code>window.onstorage</code><ul><li>é‡å¤å†™å…¥ç›¸åŒçš„å€¼æ— æ³•è§¦å‘</li><li>ä¼šå—åˆ°æµè§ˆå™¨éšèº«æ¨¡å¼ç­‰çš„é™åˆ¶</li></ul></li><li>è®¾ç½®å…±äº«<code>cookie</code>ä¸ä¸æ–­è½®è¯¢è„æ£€æŸ¥(<code>setInterval</code>)</li><li>å€ŸåŠ©æœåŠ¡ç«¯æˆ–è€…ä¸­é—´å±‚å®ç°</li></ul><h3 id="2-æµè§ˆå™¨æ¶æ„">2. æµè§ˆå™¨æ¶æ„</h3><ul><li>ç”¨æˆ·ç•Œé¢</li><li>ä¸»è¿›ç¨‹</li><li>å†…æ ¸<ul><li>æ¸²æŸ“å¼•æ“</li><li>JS å¼•æ“<ul><li>æ‰§è¡Œæ ˆ</li></ul></li><li>äº‹ä»¶è§¦å‘çº¿ç¨‹<ul><li>æ¶ˆæ¯é˜Ÿåˆ—<ul><li>å¾®ä»»åŠ¡</li><li>å®ä»»åŠ¡</li></ul></li></ul></li><li>ç½‘ç»œå¼‚æ­¥çº¿ç¨‹</li><li>å®šæ—¶å™¨çº¿ç¨‹</li></ul></li></ul><h3 id="3-æµè§ˆå™¨ä¸‹äº‹ä»¶å¾ªç¯-Event-Loop">3. æµè§ˆå™¨ä¸‹äº‹ä»¶å¾ªç¯(Event Loop)</h3><p>äº‹ä»¶å¾ªç¯æ˜¯æŒ‡: æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œç„¶åæ‰§è¡Œæ¸…ç©ºå¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå¾ªç¯å†æ‰§è¡Œå®ä»»åŠ¡ï¼Œå†æ¸…å¾®ä»»åŠ¡åˆ—è¡¨</p><ul><li>å¾®ä»»åŠ¡ <code>microtask(jobs)</code>: <code>promise / ajax / Object.observe(è¯¥æ–¹æ³•å·²åºŸå¼ƒ)</code></li><li>å®ä»»åŠ¡ <code>macrotask(task)</code>: <code>setTimout / script / IO / UI Rendering</code></li></ul><h3 id="4-ä»è¾“å…¥-url-åˆ°å±•ç¤ºçš„è¿‡ç¨‹">4. ä»è¾“å…¥ url åˆ°å±•ç¤ºçš„è¿‡ç¨‹</h3><ul><li>DNS è§£æ</li><li>TCP ä¸‰æ¬¡æ¡æ‰‹</li><li>å‘é€è¯·æ±‚ï¼Œåˆ†æ urlï¼Œè®¾ç½®è¯·æ±‚æŠ¥æ–‡(å¤´ï¼Œä¸»ä½“)</li><li>æœåŠ¡å™¨è¿”å›è¯·æ±‚çš„æ–‡ä»¶ (html)</li><li>æµè§ˆå™¨æ¸²æŸ“<ul><li>HTML parser --&gt; DOM Tree<ul><li>æ ‡è®°åŒ–ç®—æ³•ï¼Œè¿›è¡Œå…ƒç´ çŠ¶æ€çš„æ ‡è®°</li><li>dom æ ‘æ„å»º</li></ul></li><li>CSS parser --&gt; Style Tree<ul><li>è§£æ css ä»£ç ï¼Œç”Ÿæˆæ ·å¼æ ‘</li></ul></li><li>attachment --&gt; Render Tree<ul><li>ç»“åˆ domæ ‘ ä¸ styleæ ‘ï¼Œç”Ÿæˆæ¸²æŸ“æ ‘</li></ul></li><li>layout: å¸ƒå±€</li><li>GPU painting: åƒç´ ç»˜åˆ¶é¡µé¢</li></ul></li></ul><h3 id="5-é‡ç»˜ä¸å›æµ">5. é‡ç»˜ä¸å›æµ</h3><p>å½“å…ƒç´ çš„æ ·å¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦è§¦å‘æ›´æ–°ï¼Œé‡æ–°ç»˜åˆ¶å…ƒç´ ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„æ“ä½œï¼Œå³é‡ç»˜ä¸å›æµã€‚</p><ul><li><strong>é‡ç»˜(repaint)</strong>: å½“å…ƒç´ æ ·å¼çš„æ”¹å˜ä¸å½±å“å¸ƒå±€æ—¶ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨é‡ç»˜å¯¹å…ƒç´ è¿›è¡Œæ›´æ–°ï¼Œæ­¤æ—¶ç”±äºåªéœ€è¦UIå±‚é¢çš„é‡æ–°åƒç´ ç»˜åˆ¶ï¼Œå› æ­¤ <strong>æŸè€—è¾ƒå°‘</strong></li><li><strong>å›æµ(reflow)</strong>: å½“å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–è§¦å‘æŸäº›å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œç§°ä¸ºå›æµã€‚æ­¤æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°ç»è¿‡è®¡ç®—ï¼Œè®¡ç®—åè¿˜éœ€è¦é‡æ–°é¡µé¢å¸ƒå±€ï¼Œå› æ­¤æ˜¯è¾ƒé‡çš„æ“ä½œã€‚ä¼šè§¦å‘å›æµçš„æ“ä½œ:<ul><li>é¡µé¢åˆæ¬¡æ¸²æŸ“</li><li>æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜</li><li>å…ƒç´ å°ºå¯¸ã€ä½ç½®ã€å†…å®¹å‘ç”Ÿæ”¹å˜</li><li>å…ƒç´ å­—ä½“å¤§å°å˜åŒ–</li><li>æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„ dom å…ƒç´ </li><li>æ¿€æ´» CSS ä¼ªç±»ï¼ˆä¾‹å¦‚ï¼š:hoverï¼‰</li><li>æŸ¥è¯¢æŸäº›å±æ€§æˆ–è°ƒç”¨æŸäº›æ–¹æ³•<ul><li>clientWidthã€clientHeightã€clientTopã€clientLeft</li><li>offsetWidthã€offsetHeightã€offsetTopã€offsetLeft</li><li>scrollWidthã€scrollHeightã€scrollTopã€scrollLeft</li><li>getComputedStyle()</li><li>getBoundingClientRect()</li><li>scrollTo()</li></ul></li></ul></li></ul><p><strong>å›æµå¿…å®šè§¦å‘é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šè§¦å‘å›æµã€‚é‡ç»˜çš„å¼€é”€è¾ƒå°ï¼Œå›æµçš„ä»£ä»·è¾ƒé«˜ã€‚</strong></p><h4 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ:</h4><ul><li>css<ul><li>é¿å…ä½¿ç”¨<code>table</code>å¸ƒå±€</li><li>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°<code>position</code>å±æ€§ä¸º<code>absolute</code>æˆ–<code>fixed</code>çš„å…ƒç´ ä¸Š</li></ul></li><li>javascript<ul><li>é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œå¯æ±‡æ€»åç»Ÿä¸€ <strong>ä¸€æ¬¡ä¿®æ”¹</strong></li><li>å°½é‡ä½¿ç”¨<code>class</code>è¿›è¡Œæ ·å¼ä¿®æ”¹</li><li>å‡å°‘<code>dom</code>çš„å¢åˆ æ¬¡æ•°ï¼Œå¯ä½¿ç”¨ <strong>å­—ç¬¦ä¸²</strong> æˆ–è€… <code>documentFragment</code> ä¸€æ¬¡æ€§æ’å…¥</li><li>æé™ä¼˜åŒ–æ—¶ï¼Œä¿®æ”¹æ ·å¼å¯å°†å…¶<code>display: none</code>åä¿®æ”¹</li><li>é¿å…å¤šæ¬¡è§¦å‘ä¸Šé¢æåˆ°çš„é‚£äº›ä¼šè§¦å‘å›æµçš„æ–¹æ³•ï¼Œå¯ä»¥çš„è¯å°½é‡ç”¨ <strong>å˜é‡å­˜ä½</strong></li></ul></li></ul><h3 id="6-å­˜å‚¨">6. å­˜å‚¨</h3><p>æˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹ä¸šåŠ¡ä¸­çš„ä¸€äº›æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œé€šå¸¸å¯ä»¥åˆ†ä¸º çŸ­æš‚æ€§å­˜å‚¨ å’Œ æŒä¹…æ€§å‚¨å­˜ã€‚</p><ul><li><p>çŸ­æš‚æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œåªåœ¨è¿è¡Œæ—¶å¯ç”¨</p></li><li><p>æŒä¹…æ€§å­˜å‚¨ï¼Œå¯ä»¥åˆ†ä¸º æµè§ˆå™¨ç«¯ ä¸ æœåŠ¡å™¨ç«¯</p><ul><li><p>æµè§ˆå™¨:</p><ul><li><p><code>cookie</code></p><p>: é€šå¸¸ç”¨äºå­˜å‚¨ç”¨æˆ·èº«ä»½ï¼Œç™»å½•çŠ¶æ€ç­‰</p><ul><li>http ä¸­è‡ªåŠ¨æºå¸¦ï¼Œ ä½“ç§¯ä¸Šé™ä¸º 4Kï¼Œ å¯è‡ªè¡Œè®¾ç½®è¿‡æœŸæ—¶é—´</li></ul></li><li><p><code>localStorage / sessionStorage</code>: é•¿ä¹…å‚¨å­˜/çª—å£å…³é—­åˆ é™¤ï¼Œ ä½“ç§¯é™åˆ¶ä¸º 4~5M</p></li><li><p><code>indexDB</code></p></li></ul></li><li><p>æœåŠ¡å™¨:</p><ul><li>åˆ†å¸ƒå¼ç¼“å­˜ redis</li></ul></li><li><p>æ•°æ®åº“</p></li></ul></li></ul><h3 id="7-Web-Worker">7. Web Worker</h3><p>ç°ä»£æµè§ˆå™¨ä¸º<code>JavaScript</code>åˆ›é€ çš„ <strong>å¤šçº¿ç¨‹ç¯å¢ƒ</strong>ã€‚å¯ä»¥æ–°å»ºå¹¶å°†éƒ¨åˆ†ä»»åŠ¡åˆ†é…åˆ°<code>worker</code>çº¿ç¨‹å¹¶è¡Œè¿è¡Œï¼Œä¸¤ä¸ªçº¿ç¨‹å¯ <strong>ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°</strong>ï¼Œå¯é€šè¿‡è‡ªå¸¦çš„ <strong>æ¶ˆæ¯æœºåˆ¶</strong> ç›¸äº’é€šä¿¡ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•:</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º worker</span></span><br><span class="line"><span class="keyword">const</span> worker = <span class="keyword">new</span> Worker(<span class="string">'work.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘ä¸»è¿›ç¨‹æ¨é€æ¶ˆæ¯</span></span><br><span class="line">worker.postMessage(<span class="string">'Hello World'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ä¸»è¿›ç¨‹æ¥çš„æ¶ˆæ¯</span></span><br><span class="line">worker.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Received message '</span> + event.data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é™åˆ¶:</strong></p><ul><li>åŒæºé™åˆ¶</li><li>æ— æ³•ä½¿ç”¨ <code>document</code> / <code>window</code> / <code>alert</code> / <code>confirm</code></li><li>æ— æ³•åŠ è½½æœ¬åœ°èµ„æº</li></ul><h3 id="8-V8åƒåœ¾å›æ”¶æœºåˆ¶">8. V8åƒåœ¾å›æ”¶æœºåˆ¶</h3><p>åƒåœ¾å›æ”¶: å°†å†…å­˜ä¸­ä¸å†ä½¿ç”¨çš„æ•°æ®è¿›è¡Œæ¸…ç†ï¼Œé‡Šæ”¾å‡ºå†…å­˜ç©ºé—´ã€‚V8 å°†å†…å­˜åˆ†æˆ <strong>æ–°ç”Ÿä»£ç©ºé—´</strong> å’Œ <strong>è€ç”Ÿä»£ç©ºé—´</strong>ã€‚</p><ul><li><p>æ–°ç”Ÿä»£ç©ºé—´</p><p>: ç”¨äºå­˜æ´»è¾ƒçŸ­çš„å¯¹è±¡</p><ul><li>åˆåˆ†æˆä¸¤ä¸ªç©ºé—´: from ç©ºé—´ ä¸ to ç©ºé—´</li><li>Scavenge GCç®—æ³•: å½“ from ç©ºé—´è¢«å æ»¡æ—¶ï¼Œå¯åŠ¨ GC ç®—æ³•<ul><li>å­˜æ´»çš„å¯¹è±¡ä» from space è½¬ç§»åˆ° to space</li><li>æ¸…ç©º from space</li><li>from space ä¸ to space äº’æ¢</li><li>å®Œæˆä¸€æ¬¡æ–°ç”Ÿä»£GC</li></ul></li></ul></li><li><p>è€ç”Ÿä»£ç©ºé—´</p><p>: ç”¨äºå­˜æ´»æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡</p><ul><li><p>ä» æ–°ç”Ÿä»£ç©ºé—´ è½¬ç§»åˆ° è€ç”Ÿä»£ç©ºé—´ çš„æ¡ä»¶</p><ul><li>ç»å†è¿‡ä¸€æ¬¡ä»¥ä¸Š Scavenge GC çš„å¯¹è±¡</li><li>å½“ to space ä½“ç§¯è¶…è¿‡25%</li></ul></li><li><p>æ ‡è®°æ¸…é™¤ç®—æ³•</p><p>: æ ‡è®°å­˜æ´»çš„å¯¹è±¡ï¼Œæœªè¢«æ ‡è®°çš„åˆ™è¢«é‡Šæ”¾</p><ul><li>å¢é‡æ ‡è®°: å°æ¨¡å—æ ‡è®°ï¼Œåœ¨ä»£ç æ‰§è¡Œé—´éš™æ‰§ï¼ŒGC ä¼šå½±å“æ€§èƒ½</li><li>å¹¶å‘æ ‡è®°(æœ€æ–°æŠ€æœ¯): ä¸é˜»å¡ js æ‰§è¡Œ</li></ul></li><li><p><strong>å‹ç¼©ç®—æ³•</strong>: å°†å†…å­˜ä¸­æ¸…é™¤åå¯¼è‡´çš„ç¢ç‰‡åŒ–å¯¹è±¡å¾€å†…å­˜å †çš„ä¸€ç«¯ç§»åŠ¨ï¼Œè§£å†³ <strong>å†…å­˜çš„ç¢ç‰‡åŒ–</strong></p></li></ul></li></ul><h3 id="9-å†…å­˜æ³„éœ²">9. å†…å­˜æ³„éœ²</h3><ul><li>æ„å¤–çš„<strong>å…¨å±€å˜é‡</strong>: æ— æ³•è¢«å›æ”¶</li><li><strong>å®šæ—¶å™¨</strong>: æœªè¢«æ­£ç¡®å…³é—­ï¼Œå¯¼è‡´æ‰€å¼•ç”¨çš„å¤–éƒ¨å˜é‡æ— æ³•è¢«é‡Šæ”¾</li><li><strong>äº‹ä»¶ç›‘å¬</strong>: æ²¡æœ‰æ­£ç¡®é”€æ¯ (ä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½å‡ºç°)</li><li><strong>é—­åŒ…</strong>: ä¼šå¯¼è‡´çˆ¶çº§ä¸­çš„å˜é‡æ— æ³•è¢«é‡Šæ”¾</li><li><strong>dom å¼•ç”¨</strong>: dom å…ƒç´ è¢«åˆ é™¤æ—¶ï¼Œå†…å­˜ä¸­çš„å¼•ç”¨æœªè¢«æ­£ç¡®æ¸…ç©º</li></ul><p>å¯ç”¨ chrome ä¸­çš„ timeline è¿›è¡Œå†…å­˜æ ‡è®°ï¼Œå¯è§†åŒ–æŸ¥çœ‹å†…å­˜çš„å˜åŒ–æƒ…å†µï¼Œæ‰¾å‡ºå¼‚å¸¸ç‚¹ã€‚</p><h2 id="æœåŠ¡ç«¯ä¸ç½‘ç»œ">æœåŠ¡ç«¯ä¸ç½‘ç»œ</h2><h3 id="1-http-https-åè®®">1. http/https åè®®</h3><ul><li>1.0 åè®®ç¼ºé™·:<ul><li>æ— æ³•å¤ç”¨é“¾æ¥ï¼Œå®Œæˆå³æ–­å¼€ï¼Œ<strong>é‡æ–°æ…¢å¯åŠ¨å’Œ TCP 3æ¬¡æ¡æ‰‹</strong></li><li>head of line blocking: <strong>çº¿å¤´é˜»å¡</strong>ï¼Œå¯¼è‡´è¯·æ±‚ä¹‹é—´äº’ç›¸å½±å“</li></ul></li><li>1.1 æ”¹è¿›:<ul><li><strong>é•¿è¿æ¥</strong>(é»˜è®¤ keep-alive)ï¼Œå¤ç”¨</li><li>host å­—æ®µæŒ‡å®šå¯¹åº”çš„è™šæ‹Ÿç«™ç‚¹</li><li>æ–°å¢åŠŸèƒ½:<ul><li>æ–­ç‚¹ç»­ä¼ </li><li>èº«ä»½è®¤è¯</li><li>çŠ¶æ€ç®¡ç†</li><li>cache ç¼“å­˜<ul><li>Cache-Control</li><li>Expires</li><li>Last-Modified</li><li>Etag</li></ul></li></ul></li></ul></li><li>2.0:<ul><li>å¤šè·¯å¤ç”¨</li><li>äºŒè¿›åˆ¶åˆ†å¸§å±‚: åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä¹‹é—´</li><li>é¦–éƒ¨å‹ç¼©</li><li>æœåŠ¡ç«¯æ¨é€</li></ul></li><li>https: è¾ƒä¸ºå®‰å…¨çš„ç½‘ç»œä¼ è¾“åè®®<ul><li>è¯ä¹¦(å…¬é’¥)</li><li>SSL åŠ å¯†</li><li>ç«¯å£ 443</li></ul></li><li>TCP:<ul><li>ä¸‰æ¬¡æ¡æ‰‹</li><li>å››æ¬¡æŒ¥æ‰‹</li><li>æ»‘åŠ¨çª—å£: æµé‡æ§åˆ¶</li><li>æ‹¥å¡å¤„ç†<ul><li>æ…¢å¼€å§‹</li><li>æ‹¥å¡é¿å…</li><li>å¿«é€Ÿé‡ä¼ </li><li>å¿«é€Ÿæ¢å¤</li></ul></li></ul></li><li>ç¼“å­˜ç­–ç•¥: å¯åˆ†ä¸º <strong>å¼ºç¼“å­˜</strong> å’Œ <strong>åå•†ç¼“å­˜</strong><ul><li>Cache-Control/Expires: æµè§ˆå™¨åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œæœªè¿‡æœŸæ—¶ï¼Œç›´æ¥ä½¿ç”¨å¼ºç¼“å­˜ï¼Œ<strong>Cache-Controlçš„ max-age ä¼˜å…ˆçº§é«˜äº Expires</strong></li><li>å½“ç¼“å­˜å·²ç»è¿‡æœŸæ—¶ï¼Œä½¿ç”¨åå•†ç¼“å­˜<ul><li>å”¯ä¸€æ ‡è¯†æ–¹æ¡ˆ: Etag(response æºå¸¦) &amp; If-None-Match(requestæºå¸¦ï¼Œä¸Šä¸€æ¬¡è¿”å›çš„ Etag): æœåŠ¡å™¨åˆ¤æ–­èµ„æºæ˜¯å¦è¢«ä¿®æ”¹ï¼Œ</li><li>æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´: Last-Modified(response) &amp; If-Modified-Since (requestï¼Œä¸Šä¸€æ¬¡è¿”å›çš„Last-Modified)<ul><li>å¦‚æœä¸€è‡´ï¼Œåˆ™ç›´æ¥è¿”å› 304 é€šçŸ¥æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜</li><li>å¦‚ä¸ä¸€è‡´ï¼Œåˆ™æœåŠ¡ç«¯è¿”å›æ–°çš„èµ„æº</li></ul></li></ul></li><li>Last-Modified ç¼ºç‚¹ï¼š<ul><li>å‘¨æœŸæ€§ä¿®æ”¹ï¼Œä½†å†…å®¹æœªå˜æ—¶ï¼Œä¼šå¯¼è‡´ç¼“å­˜å¤±æ•ˆ</li><li>æœ€å°ç²’åº¦åªåˆ° sï¼Œ s ä»¥å†…çš„æ”¹åŠ¨æ— æ³•æ£€æµ‹åˆ°</li></ul></li><li>Etag çš„ä¼˜å…ˆçº§é«˜äº Last-Modified</li></ul></li></ul><h3 id="2-å¸¸è§çŠ¶æ€ç ">2. å¸¸è§çŠ¶æ€ç </h3><ul><li>1xx: æ¥å—ï¼Œç»§ç»­å¤„ç†</li><li>200: æˆåŠŸï¼Œå¹¶è¿”å›æ•°æ®</li><li>201: å·²åˆ›å»º</li><li>202: å·²æ¥å—</li><li>203: æˆä¸ºï¼Œä½†æœªæˆæƒ</li><li>204: æˆåŠŸï¼Œæ— å†…å®¹</li><li>205: æˆåŠŸï¼Œé‡ç½®å†…å®¹</li><li>206: æˆåŠŸï¼Œéƒ¨åˆ†å†…å®¹</li><li>301: æ°¸ä¹…ç§»åŠ¨ï¼Œé‡å®šå‘</li><li>302: ä¸´æ—¶ç§»åŠ¨ï¼Œå¯ä½¿ç”¨åŸæœ‰URI</li><li>304: èµ„æºæœªä¿®æ”¹ï¼Œå¯ä½¿ç”¨ç¼“å­˜</li><li>305: éœ€ä»£ç†è®¿é—®</li><li>400: è¯·æ±‚è¯­æ³•é”™è¯¯</li><li>401: è¦æ±‚èº«ä»½è®¤è¯</li><li>403: æ‹’ç»è¯·æ±‚</li><li>404: èµ„æºä¸å­˜åœ¨</li><li>500: æœåŠ¡å™¨é”™è¯¯</li></ul><h3 id="3-get-post">3. get / post</h3><ul><li>get: ç¼“å­˜ã€è¯·æ±‚é•¿åº¦å—é™ã€ä¼šè¢«å†å²ä¿å­˜è®°å½•<ul><li>æ— å‰¯ä½œç”¨(ä¸ä¿®æ”¹èµ„æº)ï¼Œå¹‚ç­‰(è¯·æ±‚æ¬¡æ•°ä¸èµ„æºæ— å…³)çš„åœºæ™¯</li></ul></li><li>post: å®‰å…¨ã€å¤§æ•°æ®ã€æ›´å¤šç¼–ç ç±»å‹</li></ul><p>ä¸¤è€…è¯¦ç»†å¯¹æ¯”å¦‚ä¸‹å›¾:</p><p><img src="5.png" alt=""></p><h3 id="4-Websocket">4. Websocket</h3><p>Websocket æ˜¯ä¸€ä¸ª <strong>æŒä¹…åŒ–çš„åè®®</strong>ï¼Œ åŸºäº http ï¼Œ æœåŠ¡ç«¯å¯ä»¥ <strong>ä¸»åŠ¨ push</strong></p><ul><li>å…¼å®¹ï¼š<ul><li>FLASH Socket</li><li>é•¿è½®è¯¢ï¼š å®šæ—¶å‘é€ ajax</li><li>long pollï¼š å‘é€ --&gt; æœ‰æ¶ˆæ¯æ—¶å† response</li></ul></li><li><code>new WebSocket(url)</code></li><li><code>ws.onerror = fn</code></li><li><code>ws.onclose = fn</code></li><li><code>ws.onopen = fn</code></li><li><code>ws.onmessage = fn</code></li><li><code>ws.send()</code></li></ul><h3 id="5-TCPä¸‰æ¬¡æ¡æ‰‹">5. TCPä¸‰æ¬¡æ¡æ‰‹</h3><p>å»ºç«‹è¿æ¥å‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦é€šè¿‡æ¡æ‰‹æ¥ç¡®è®¤å¯¹æ–¹:</p><ul><li>å®¢æˆ·ç«¯å‘é€ syn(åŒæ­¥åºåˆ—ç¼–å·) è¯·æ±‚ï¼Œè¿›å…¥ syn_send çŠ¶æ€ï¼Œç­‰å¾…ç¡®è®¤</li><li>æœåŠ¡ç«¯æ¥æ”¶å¹¶ç¡®è®¤ syn åŒ…åå‘é€ syn+ack åŒ…ï¼Œè¿›å…¥ syn_recv çŠ¶æ€</li><li>å®¢æˆ·ç«¯æ¥æ”¶ syn+ack åŒ…åï¼Œå‘é€ ack åŒ…ï¼ŒåŒæ–¹è¿›å…¥ established çŠ¶æ€</li></ul><h3 id="6-TCPå››æ¬¡æŒ¥æ‰‹">6. TCPå››æ¬¡æŒ¥æ‰‹</h3><ul><li>å®¢æˆ·ç«¯ â€“ FIN --&gt; æœåŠ¡ç«¯ï¼Œ FINâ€”WAIT</li><li>æœåŠ¡ç«¯ â€“ ACK --&gt; å®¢æˆ·ç«¯ï¼Œ CLOSE-WAIT</li><li>æœåŠ¡ç«¯ â€“ ACK,FIN --&gt; å®¢æˆ·ç«¯ï¼Œ LAST-ACK</li><li>å®¢æˆ·ç«¯ â€“ ACK --&gt; æœåŠ¡ç«¯ï¼ŒCLOSED</li></ul><h3 id="7-Node-çš„-Event-Loop-6ä¸ªé˜¶æ®µ">7. Node çš„ Event Loop: 6ä¸ªé˜¶æ®µ</h3><ul><li><p>timer é˜¶æ®µ: æ‰§è¡Œåˆ°æœŸçš„<code>setTimeout / setInterval</code>é˜Ÿåˆ—å›è°ƒ</p></li><li><p>I/O é˜¶æ®µ: æ‰§è¡Œä¸Šè½®å¾ªç¯æ®‹æµçš„<code>callback</code></p></li><li><p>idle, prepare</p></li><li><p>poll: ç­‰å¾…å›è°ƒ</p><ul><li><p>æ‰§è¡Œå›è°ƒ</p></li><li><p>æ‰§è¡Œå®šæ—¶å™¨</p><p>å¦‚æœ‰åˆ°æœŸçš„<code>setTimeout / setInterval</code>ï¼Œ åˆ™è¿”å› timer é˜¶æ®µ</p><p>å¦‚æœ‰<code>setImmediate</code>ï¼Œåˆ™å‰å¾€ check é˜¶æ®µ</p></li></ul></li><li><p>check</p><ul><li>æ‰§è¡Œ<code>setImmediate</code></li></ul></li><li><p>close callbacks</p></li></ul><h3 id="è·¨åŸŸ">è·¨åŸŸ</h3><ul><li>JSONP: åˆ©ç”¨<code>&lt;script&gt;</code>æ ‡ç­¾ä¸å—è·¨åŸŸé™åˆ¶çš„ç‰¹ç‚¹ï¼Œç¼ºç‚¹æ˜¯åªèƒ½æ”¯æŒ get è¯·æ±‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonp</span>(<span class="params">url, jsonpCallback, success</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">  script.src = url</span><br><span class="line">  script.async = <span class="literal">true</span></span><br><span class="line">  script.type = <span class="string">'text/javascript'</span></span><br><span class="line">  <span class="built_in">window</span>[jsonpCallback] = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    success &amp;&amp; success(data)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½® CORS: Access-Control-Allow-Originï¼š*</li><li>postMessage</li></ul><h3 id="å®‰å…¨">å®‰å…¨</h3><ul><li>XSSæ”»å‡»: æ³¨å…¥æ¶æ„ä»£ç <ul><li>cookie è®¾ç½® httpOnly</li><li>è½¬ä¹‰é¡µé¢ä¸Šçš„è¾“å…¥å†…å®¹å’Œè¾“å‡ºå†…å®¹</li></ul></li><li>CSRF: è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œé˜²æŠ¤:<ul><li>get ä¸ä¿®æ”¹æ•°æ®</li><li>ä¸è¢«ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ°ç”¨æˆ·çš„ cookie</li><li>è®¾ç½®ç™½åå•ï¼Œä¸è¢«ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚</li><li>è¯·æ±‚æ ¡éªŒ</li></ul></li></ul><h2 id="æ¡†æ¶ï¼šVue">æ¡†æ¶ï¼šVue</h2><h3 id="1-nextTick">1. nextTick</h3><p>åœ¨ä¸‹æ¬¡<code>dom</code>æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œå¯ç”¨äºè·å–æ›´æ–°åçš„<code>dom</code>çŠ¶æ€</p><ul><li>æ–°ç‰ˆæœ¬ä¸­é»˜è®¤æ˜¯<code>microtasks</code>, <code>v-on</code>ä¸­ä¼šä½¿ç”¨<code>macrotasks</code></li><li><code>macrotasks</code>ä»»åŠ¡çš„å®ç°:<ul><li><code>setImmediate / MessageChannel / setTimeout</code></li></ul></li></ul><h3 id="2-ç”Ÿå‘½å‘¨æœŸ">2. ç”Ÿå‘½å‘¨æœŸ</h3><ul><li><p><code>_init_</code></p><ul><li><p><code>initLifecycle/Event</code>ï¼Œå¾€<code>vm</code>ä¸ŠæŒ‚è½½å„ç§å±æ€§</p></li><li><p><code>callHook: beforeCreated</code>: å®ä¾‹åˆšåˆ›å»º</p></li><li><p><code>initInjection/initState</code>: åˆå§‹åŒ–æ³¨å…¥å’Œ data å“åº”æ€§</p></li><li><p><code>created</code>: åˆ›å»ºå®Œæˆï¼Œå±æ€§å·²ç»ç»‘å®šï¼Œ ä½†è¿˜æœªç”ŸæˆçœŸå®<code>dom</code></p></li><li><p>è¿›è¡Œå…ƒç´ çš„æŒ‚è½½ï¼š <code>$el / vm.$mount()</code></p></li><li><p>æ˜¯å¦æœ‰template: è§£ææˆrender function</p><p>*.vue<code>æ–‡ä»¶:</code>vue-loader<code>ä¼šå°†</code><template><code>ç¼–è¯‘æˆ</code>render function`</template></p></li><li><p><code>beforeMount</code>: æ¨¡æ¿ç¼–è¯‘/æŒ‚è½½ä¹‹å‰</p></li><li><p>æ‰§è¡Œ<code>render function</code>ï¼Œç”ŸæˆçœŸå®çš„<code>dom</code>ï¼Œå¹¶æ›¿æ¢åˆ°<code>dom tree</code>ä¸­</p></li><li><p><code>mounted</code>: ç»„ä»¶å·²æŒ‚è½½</p></li></ul></li><li><p><code>update</code>:</p><ul><li><p>æ‰§è¡Œ<code>diff</code>ç®—æ³•ï¼Œæ¯”å¯¹æ”¹å˜æ˜¯å¦éœ€è¦è§¦å‘UIæ›´æ–°</p></li><li><p>flushScheduleQueue</p><ul><li><code>watcher.before</code>: è§¦å‘<code>beforeUpdate</code>é’©å­ - <code>watcher.run()</code>: æ‰§è¡Œ<code>watcher</code>ä¸­çš„ <code>notify</code>ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–é¡¹æ›´æ–°UI</li></ul></li></ul></li><li><p>è§¦å‘<code>updated</code>é’©å­: ç»„ä»¶å·²æ›´æ–°</p></li><li><p><code>actived / deactivated(keep-alive)</code>: ä¸é”€æ¯ï¼Œç¼“å­˜ï¼Œç»„ä»¶æ¿€æ´»ä¸å¤±æ´»</p></li><li><p><code>destroy</code>:</p><ul><li><code>beforeDestroy</code>: é”€æ¯å¼€å§‹</li><li>é”€æ¯è‡ªèº«ä¸”é€’å½’é”€æ¯å­ç»„ä»¶ä»¥åŠäº‹ä»¶ç›‘å¬<ul><li><code>remove()</code>: åˆ é™¤èŠ‚ç‚¹</li><li><code>watcher.teardown()</code>: æ¸…ç©ºä¾èµ–</li><li><code>vm.$off()</code>: è§£ç»‘ç›‘å¬</li></ul></li><li><code>destroyed</code>: å®Œæˆåè§¦å‘é’©å­</li></ul></li></ul><p>ä¸Šé¢æ˜¯<code>vue</code>çš„å£°æ˜å‘¨æœŸçš„ç®€å•æ¢³ç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥ä»¥ä»£ç çš„å½¢å¼æ¥å®Œæˆ<code>vue</code>çš„åˆå§‹åŒ–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–Vueå®ä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// æŒ‚è½½å±æ€§</span></span><br><span class="line">    initLifeCycle(vm) </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–äº‹ä»¶ç³»ç»Ÿï¼Œé’©å­å‡½æ•°ç­‰</span></span><br><span class="line">    initEvent(vm) </span><br><span class="line">    <span class="comment">// ç¼–è¯‘slotã€vnode</span></span><br><span class="line">    initRender(vm) </span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">    <span class="comment">// æ·»åŠ injectåŠŸèƒ½</span></span><br><span class="line">    initInjection(vm)</span><br><span class="line">    <span class="comment">// å®Œæˆæ•°æ®å“åº”æ€§ props/data/watch/computed/methods</span></span><br><span class="line">    initState(vm)</span><br><span class="line">    <span class="comment">// æ·»åŠ  provide åŠŸèƒ½</span></span><br><span class="line">    initProvide(vm)</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'created'</span>)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æŒ‚è½½èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (vm.$options.el) &#123;</span><br><span class="line">        vm.$mount(vm.$options.el)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½èŠ‚ç‚¹å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mountComponent</span>(<span class="params">vm</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// è·å– render function</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.options.render) &#123;</span><br><span class="line">        <span class="comment">// template to render</span></span><br><span class="line">        <span class="comment">// Vue.compile = compileToFunctions</span></span><br><span class="line">        <span class="keyword">let</span> &#123; render &#125; = compileToFunctions() </span><br><span class="line">        <span class="keyword">this</span>.options.render = render</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(<span class="string">'beforeMounte'</span>)</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–è§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="comment">// render æ¸²æŸ“ vdomï¼Œ </span></span><br><span class="line">    vdom = vm.render()</span><br><span class="line">    <span class="comment">// update: æ ¹æ® diff å‡ºçš„ patchs æŒ‚è½½æˆçœŸå®çš„ dom </span></span><br><span class="line">    vm._update(vdom)</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­  </span></span><br><span class="line">    callHook(vm, <span class="string">'mounted'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°èŠ‚ç‚¹å®ç°</span></span><br><span class="line">funtion queueWatcher(watcher) &#123;</span><br><span class="line">nextTick(flushScheduleQueue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flushScheduleQueue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// éå†é˜Ÿåˆ—ä¸­æ‰€æœ‰ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">for</span>()&#123;</span><br><span class="line">    <span class="comment">// beforeUpdate</span></span><br><span class="line">        watcher.before()</span><br><span class="line">         </span><br><span class="line">        <span class="comment">// ä¾èµ–å±€éƒ¨æ›´æ–°èŠ‚ç‚¹</span></span><br><span class="line">        watcher.update() </span><br><span class="line">        callHook(<span class="string">'updated'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”€æ¯å®ä¾‹å®ç°</span></span><br><span class="line">Vue.prototype.$destory = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'beforeDestory'</span>)</span><br><span class="line">    <span class="comment">// è‡ªèº«åŠå­èŠ‚ç‚¹</span></span><br><span class="line">    remove() </span><br><span class="line">    <span class="comment">// åˆ é™¤ä¾èµ–</span></span><br><span class="line">    watcher.teardown() </span><br><span class="line">    <span class="comment">// åˆ é™¤ç›‘å¬</span></span><br><span class="line">    vm.$off() </span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'destoryed'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ•°æ®å“åº”-æ•°æ®åŠ«æŒ">3. æ•°æ®å“åº”(æ•°æ®åŠ«æŒ)</h3><p>çœ‹å®Œç”Ÿå‘½å‘¨æœŸåï¼Œé‡Œé¢çš„<code>watcher</code>ç­‰å†…å®¹å…¶å®æ˜¯æ•°æ®å“åº”ä¸­çš„ä¸€éƒ¨åˆ†ã€‚æ•°æ®å“åº”çš„å®ç°ç”±ä¸¤éƒ¨åˆ†æ„æˆ: <strong>è§‚å¯Ÿè€…( watcher )</strong> å’Œ <strong>ä¾èµ–æ”¶é›†å™¨( Dep )</strong>ï¼Œå…¶æ ¸å¿ƒæ˜¯ <code>defineProperty</code>è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥ <strong>é‡å†™å±æ€§çš„ get ä¸ set</strong> æ–¹æ³•ï¼Œä»è€Œå®Œæˆç›‘å¬æ•°æ®çš„æ”¹å˜ã€‚</p><ul><li><p>Observe (è§‚å¯Ÿè€…)è§‚å¯Ÿ props ä¸ state</p><ul><li>éå† props ä¸ stateï¼Œå¯¹æ¯ä¸ªå±æ€§åˆ›å»ºç‹¬ç«‹çš„ç›‘å¬å™¨( watcher )</li></ul></li><li><p>ä½¿ç”¨</p><p><code>defineProperty</code></p><p>é‡å†™æ¯ä¸ªå±æ€§çš„ get/set(</p><p><code>defineReactive</code></p><p>ï¼‰</p><ul><li><p>get</p><p>: æ”¶é›†ä¾èµ–</p><ul><li>Dep.depend()</li><li><code>watcher.addDep()</code></li></ul></li></ul></li><li><p>set</p><p>: æ´¾å‘æ›´æ–°</p><ul><li><code>Dep.notify()</code></li><li><code>watcher.update()</code></li><li><code>queenWatcher()</code><ul><li><code>nextTick</code></li></ul></li><li><code>flushScheduleQueue</code><ul><li><code>watcher.run()</code></li><li><code>updateComponent()</code></li></ul></li></ul></li></ul><p>å¤§å®¶å¯ä»¥å…ˆçœ‹ä¸‹é¢çš„æ•°æ®ç›¸åº”çš„ä»£ç å®ç°åï¼Œç†è§£åå°±æ¯”è¾ƒå®¹æ˜“çœ‹æ‡‚ä¸Šé¢çš„ç®€å•è„‰ç»œäº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="comment">// æ•°æ®å“åº”æ€§</span></span><br><span class="line">observe(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="keyword">new</span> Watcher(data, <span class="string">'name'</span>, updateComponent)</span><br><span class="line">data.a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•è¡¨ç¤ºç”¨äºæ•°æ®æ›´æ–°åçš„æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    vm._update() <span class="comment">// patchs</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘è§†å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// éå†å¯¹è±¡ï¼Œä½¿ç”¨ get/set é‡æ–°å®šä¹‰å¯¹è±¡çš„æ¯ä¸ªå±æ€§å€¼</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        defineReactive(obj, key, obj[key])</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">obj, k, v</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’å­å±æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (type(v) == <span class="string">'object'</span>) observe(v)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ–°å»ºä¾èµ–æ”¶é›†å™¨</span></span><br><span class="line">    <span class="keyword">let</span> dep = <span class="keyword">new</span> Dep()</span><br><span class="line">    <span class="comment">// å®šä¹‰get/set</span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, k, &#123;</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        <span class="keyword">get</span>: function reactiveGetter() &#123;</span><br><span class="line">          <span class="comment">// å½“æœ‰è·å–è¯¥å±æ€§æ—¶ï¼Œè¯æ˜ä¾èµ–äºè¯¥å¯¹è±¡ï¼Œå› æ­¤è¢«æ·»åŠ è¿›æ”¶é›†å™¨ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">                dep.addSub(Dep.target)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> v</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// é‡æ–°è®¾ç½®å€¼æ—¶ï¼Œè§¦å‘æ”¶é›†å™¨çš„é€šçŸ¥æœºåˆ¶</span></span><br><span class="line">        <span class="keyword">set</span>: function reactiveSetter(nV) &#123;</span><br><span class="line">            v = nV</span><br><span class="line">            dep.nofify()</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾èµ–æ”¶é›†å™¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs = []</span><br><span class="line">    &#125;</span><br><span class="line">    addSub(sub) &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs.push(sub)</span><br><span class="line">    &#125;</span><br><span class="line">    notify() &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs.map(<span class="function"><span class="params">sub</span> =&gt;</span> &#123;</span><br><span class="line">            sub.update()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dep.target = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(obj, key, cb) &#123;</span><br><span class="line">        Dep.target = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">this</span>.cb = cb</span><br><span class="line">        <span class="keyword">this</span>.obj = obj</span><br><span class="line">        <span class="keyword">this</span>.key = key</span><br><span class="line">        <span class="keyword">this</span>.value = obj[key]</span><br><span class="line">        Dep.target = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    addDep(Dep) &#123;</span><br><span class="line">        Dep.addSub(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    update() &#123;</span><br><span class="line">        <span class="keyword">this</span>.value = <span class="keyword">this</span>.obj[<span class="keyword">this</span>.key]</span><br><span class="line">        <span class="keyword">this</span>.cb(<span class="keyword">this</span>.value)</span><br><span class="line">    &#125;</span><br><span class="line">    before() &#123;</span><br><span class="line">        callHook(<span class="string">'beforeUpdate'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-virtual-dom-åŸç†å®ç°">4. virtual dom åŸç†å®ç°</h3><ul><li><p>åˆ›å»º dom æ ‘</p></li><li><p>æ ‘çš„<code>diff</code>ï¼ŒåŒå±‚å¯¹æ¯”ï¼Œè¾“å‡º<code>patchs(listDiff/diffChildren/diffProps)</code></p><ul><li><p>æ²¡æœ‰æ–°çš„èŠ‚ç‚¹ï¼Œè¿”å›</p></li><li><p>æ–°çš„èŠ‚ç‚¹</p><p><code>tagName</code>ä¸<code>key</code>ä¸å˜ï¼Œ å¯¹æ¯”<code>props</code>ï¼Œç»§ç»­é€’å½’éå†å­æ ‘</p><ul><li>å¯¹æ¯”å±æ€§(å¯¹æ¯”æ–°æ—§å±æ€§åˆ—è¡¨):</li></ul></li><li><p>æ—§å±æ€§æ˜¯å¦å­˜åœ¨ä¸æ–°å±æ€§åˆ—è¡¨ä¸­</p><ul><li>éƒ½å­˜åœ¨çš„æ˜¯å¦æœ‰å˜åŒ–</li></ul></li><li><p>æ˜¯å¦å‡ºç°æ—§åˆ—è¡¨ä¸­æ²¡æœ‰çš„æ–°å±æ€§</p></li><li><p><code>tagName</code>å’Œ<code>key</code>å€¼å˜åŒ–äº†ï¼Œåˆ™ç›´æ¥æ›¿æ¢æˆæ–°èŠ‚ç‚¹</p></li></ul></li><li><p>æ¸²æŸ“å·®å¼‚</p><ul><li>éå†<code>patchs</code>ï¼Œ æŠŠéœ€è¦æ›´æ”¹çš„èŠ‚ç‚¹å–å‡ºæ¥</li><li>å±€éƒ¨æ›´æ–°<code>dom</code></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// diffç®—æ³•çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diff</span>(<span class="params">oldTree, newTree</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// å·®å¼‚æ”¶é›†</span></span><br><span class="line">    <span class="keyword">let</span> pathchs = &#123;&#125;</span><br><span class="line">    dfs(oldTree, newTree, <span class="number">0</span>, pathchs)</span><br><span class="line">    <span class="keyword">return</span> pathchs</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">oldNode, newNode, index, pathchs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> curPathchs = []</span><br><span class="line">    <span class="keyword">if</span> (newNode) &#123;</span><br><span class="line">        <span class="comment">// å½“æ–°æ—§èŠ‚ç‚¹çš„ tagName å’Œ key å€¼å®Œå…¨ä¸€è‡´æ—¶</span></span><br><span class="line">        <span class="keyword">if</span> (oldNode.tagName === newNode.tagName &amp;&amp; oldNode.key === newNode.key) &#123;</span><br><span class="line">          <span class="comment">// ç»§ç»­æ¯”å¯¹å±æ€§å·®å¼‚</span></span><br><span class="line">            <span class="keyword">let</span> props = diffProps(oldNode.props, newNode.props)</span><br><span class="line">            curPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'changeProps'</span>, props &#125;)</span><br><span class="line">            <span class="comment">// é€’å½’è¿›å…¥ä¸‹ä¸€å±‚çº§çš„æ¯”è¾ƒ</span></span><br><span class="line">            diffChildrens(oldNode.children, newNode.children, index, pathchs)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// å½“ tagName æˆ–è€… key ä¿®æ”¹äº†åï¼Œè¡¨ç¤ºå·²ç»æ˜¯å…¨æ–°èŠ‚ç‚¹ï¼Œæ— éœ€å†æ¯”</span></span><br><span class="line">            curPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'replaceNode'</span>, <span class="attr">node</span>: newNode &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æ„å»ºå‡ºæ•´é¢—å·®å¼‚æ ‘</span></span><br><span class="line">    <span class="keyword">if</span> (curPathchs.length) &#123;</span><br><span class="line">    <span class="keyword">if</span>(pathchs[index])&#123;</span><br><span class="line">    pathchs[index] = pathchs[index].concat(curPathchs)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    pathchs[index] = curPathchs</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±æ€§å¯¹æ¯”å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffProps</span>(<span class="params">oldProps, newProps</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> propsPathchs = []</span><br><span class="line">    <span class="comment">// éå†æ–°æ—§å±æ€§åˆ—è¡¨</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾åˆ é™¤é¡¹</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾ä¿®æ”¹é¡¹</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ–°å¢é¡¹</span></span><br><span class="line">    forin(olaProps, (k, v) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (!newProps.hasOwnProperty(k)) &#123;</span><br><span class="line">            propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'remove'</span>, <span class="attr">prop</span>: k &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (v !== newProps[k]) &#123;</span><br><span class="line">                propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'change'</span>, <span class="attr">prop</span>: k , <span class="attr">value</span>: newProps[k] &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    forin(newProps, (k, v) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (!oldProps.hasOwnProperty(k)) &#123;</span><br><span class="line">            propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'add'</span>, <span class="attr">prop</span>: k, <span class="attr">value</span>: v &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> propsPathchs</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹æ¯”å­çº§å·®å¼‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffChildrens</span>(<span class="params">oldChild, newChild, index, pathchs</span>) </span>&#123;</span><br><span class="line"><span class="comment">// æ ‡è®°å­çº§çš„åˆ é™¤/æ–°å¢/ç§»åŠ¨</span></span><br><span class="line">    <span class="keyword">let</span> &#123; change, list &#125; = diffList(oldChild, newChild, index, pathchs)</span><br><span class="line">    <span class="keyword">if</span> (change.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pathchs[index]) &#123;</span><br><span class="line">            pathchs[index] = pathchs[index].concat(change)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pathchs[index] = change</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æ ¹æ® key è·å–åŸæœ¬åŒ¹é…çš„èŠ‚ç‚¹ï¼Œè¿›ä¸€æ­¥é€’å½’ä»å¤´å¼€å§‹å¯¹æ¯”</span></span><br><span class="line">    oldChild.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> keyIndex = list.indexOf(item.key)</span><br><span class="line">        <span class="keyword">if</span> (keyIndex) &#123;</span><br><span class="line">            <span class="keyword">let</span> node = newChild[keyIndex]</span><br><span class="line">            <span class="comment">// è¿›ä¸€æ­¥é€’å½’å¯¹æ¯”</span></span><br><span class="line">            dfs(item, node, index, pathchs)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ—è¡¨å¯¹æ¯”ï¼Œä¸»è¦ä¹Ÿæ˜¯æ ¹æ® key å€¼æŸ¥æ‰¾åŒ¹é…é¡¹</span></span><br><span class="line"><span class="comment">// å¯¹æ¯”å‡ºæ–°æ—§åˆ—è¡¨çš„æ–°å¢/åˆ é™¤/ç§»åŠ¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffList</span>(<span class="params">oldList, newList, index, pathchs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> change = []</span><br><span class="line">    <span class="keyword">let</span> list = []</span><br><span class="line">    <span class="keyword">const</span> newKeys = getKey(newList)</span><br><span class="line">    oldList.map(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (newKeys.indexOf(v.key) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">            list.push(v.key)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            list.push(<span class="literal">null</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°åˆ é™¤</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = list.length - <span class="number">1</span>; i&gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!list[i]) &#123;</span><br><span class="line">            list.splice(i, <span class="number">1</span>)</span><br><span class="line">            change.push(&#123; <span class="attr">type</span>: <span class="string">'remove'</span>, <span class="attr">index</span>: i &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°æ–°å¢å’Œç§»åŠ¨</span></span><br><span class="line">    newList.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> key = item.key</span><br><span class="line">        <span class="keyword">const</span> index = list.indexOf(key)</span><br><span class="line">        <span class="keyword">if</span> (index === <span class="number">-1</span> || key == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ–°å¢</span></span><br><span class="line">            change.push(&#123; <span class="attr">type</span>: <span class="string">'add'</span>, <span class="attr">node</span>: item, <span class="attr">index</span>: i &#125;)</span><br><span class="line">            list.splice(i, <span class="number">0</span>, key)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">if</span> (index !== i) &#123;</span><br><span class="line">                change.push(&#123;</span><br><span class="line">                    type: <span class="string">'move'</span>,</span><br><span class="line">                    form: index,</span><br><span class="line">                    to: i,</span><br><span class="line">                &#125;)</span><br><span class="line">                move(list, index, i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; change, list &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Proxy-ç›¸æ¯”äº-defineProperty-çš„ä¼˜åŠ¿">5. Proxy ç›¸æ¯”äº defineProperty çš„ä¼˜åŠ¿</h3><ul><li>æ•°ç»„å˜åŒ–ä¹Ÿèƒ½ç›‘å¬åˆ°</li><li>ä¸éœ€è¦æ·±åº¦éå†ç›‘å¬</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> reactiveData = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line"><span class="keyword">get</span>: function(target, name)&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="6-vue-router">6. vue-router</h3><ul><li><p>mode</p><ul><li><code>hash</code></li><li><code>history</code></li></ul></li><li><p>è·³è½¬</p><ul><li><code>this.$router.push()</code></li><li><code>&lt;router-link to=&quot;&quot;&gt;&lt;/router-link&gt;</code></li></ul></li><li><p>å ä½</p><ul><li><code>&lt;router-view&gt;&lt;/router-view&gt;</code></li></ul></li></ul><h3 id="7-vuex">7. vuex</h3><ul><li><code>state</code>: çŠ¶æ€ä¸­å¿ƒ</li><li><code>mutations</code>: æ›´æ”¹çŠ¶æ€</li><li><code>actions</code>: å¼‚æ­¥æ›´æ”¹çŠ¶æ€</li><li><code>getters</code>: è·å–çŠ¶æ€</li><li><code>modules</code>: å°†<code>state</code>åˆ†æˆå¤šä¸ª<code>modules</code>ï¼Œä¾¿äºç®¡ç†</li></ul><h2 id="ç®—æ³•">ç®—æ³•</h2><p>å…¶å®ç®—æ³•æ–¹é¢åœ¨å‰ç«¯çš„å®é™…é¡¹ç›®ä¸­æ¶‰åŠå¾—å¹¶ä¸å¤šï¼Œä½†è¿˜æ˜¯éœ€è¦ç²¾é€šä¸€äº›åŸºç¡€æ€§çš„ç®—æ³•ï¼Œä¸€äº›å…¬å¸è¿˜æ˜¯ä¼šæœ‰è¿™æ–¹é¢çš„éœ€æ±‚å’Œè€ƒæ ¸ï¼Œå»ºè®®å¤§å®¶è¿˜æ˜¯éœ€è¦ç¨å¾®å‡†å¤‡ä¸‹ï¼Œè¿™å±äºåŠ åˆ†é¢˜ã€‚</p><h3 id="1-äº”å¤§ç®—æ³•">1. äº”å¤§ç®—æ³•</h3><ul><li><strong>è´ªå¿ƒç®—æ³•</strong>: å±€éƒ¨æœ€ä¼˜è§£æ³•</li><li><strong>åˆ†æ²»ç®—æ³•</strong>: åˆ†æˆå¤šä¸ªå°æ¨¡å—ï¼Œä¸åŸé—®é¢˜æ€§è´¨ç›¸åŒ</li><li><strong>åŠ¨æ€è§„åˆ’</strong>: æ¯ä¸ªçŠ¶æ€éƒ½æ˜¯è¿‡å»å†å²çš„ä¸€ä¸ªæ€»ç»“</li><li><strong>å›æº¯æ³•</strong>: å‘ç°åŸå…ˆé€‰æ‹©ä¸ä¼˜æ—¶ï¼Œé€€å›é‡æ–°é€‰æ‹©</li><li><strong>åˆ†æ”¯é™ç•Œæ³•</strong></li></ul><h3 id="2-åŸºç¡€æ’åºç®—æ³•">2. åŸºç¡€æ’åºç®—æ³•</h3><ul><li>å†’æ³¡æ’åº: ä¸¤ä¸¤æ¯”è¾ƒ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> outer = len ; outer &gt;= <span class="number">2</span>; outer--) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> inner = <span class="number">0</span>; inner &lt;=outer - <span class="number">1</span>; inner++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[inner] &gt; arr[inner + <span class="number">1</span>]) &#123;</span><br><span class="line">                [arr[inner],arr[inner+<span class="number">1</span>]] = [arr[inner+<span class="number">1</span>],arr[inner]]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€‰æ‹©æ’åº: éå†è‡ªèº«ä»¥åçš„å…ƒç´ ï¼Œæœ€å°çš„å…ƒç´ è·Ÿè‡ªå·±è°ƒæ¢ä½ç½®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span> ;i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = i ; j&lt;len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[i]) &#123;</span><br><span class="line">                [arr[i],arr[j]] = [arr[j],arr[i]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ’å…¥æ’åº: å³å°†å…ƒç´ æ’å…¥åˆ°å·²æ’åºå¥½çš„æ•°ç»„ä¸­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;  <span class="comment">//å¤–å¾ªç¯ä»1å¼€å§‹ï¼Œé»˜è®¤arr[0]æ˜¯æœ‰åºæ®µ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = i; j &gt; <span class="number">0</span>; j--) &#123;  <span class="comment">//j = i,å°†arr[j]ä¾æ¬¡æ’å…¥æœ‰åºæ®µä¸­</span></span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[j<span class="number">-1</span>]) &#123;</span><br><span class="line">                [arr[j],arr[j<span class="number">-1</span>]] = [arr[j<span class="number">-1</span>],arr[j]];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-é«˜çº§æ’åºç®—æ³•">3. é«˜çº§æ’åºç®—æ³•</h3><ul><li>å¿«é€Ÿæ’åº<ul><li>é€‰æ‹©åŸºå‡†å€¼(base)ï¼ŒåŸæ•°ç»„é•¿åº¦å‡ä¸€(åŸºå‡†å€¼)ï¼Œä½¿ç”¨ splice</li><li>å¾ªç¯åŸæ•°ç»„ï¼Œå°çš„æ”¾å·¦è¾¹(leftæ•°ç»„)ï¼Œå¤§çš„æ”¾å³è¾¹(rightæ•°ç»„);</li><li>concat(left, base, right)</li><li>é€’å½’ç»§ç»­æ’åº left ä¸ right</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr;  <span class="comment">//é€’å½’å‡ºå£</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> left = [],</span><br><span class="line">        right = [],</span><br><span class="line">        current = arr.splice(<span class="number">0</span>,<span class="number">1</span>); </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &lt; current) &#123;</span><br><span class="line">            left.push(arr[i])  <span class="comment">//æ”¾åœ¨å·¦è¾¹</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right.push(arr[i]) <span class="comment">//æ”¾åœ¨å³è¾¹</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat(current,quickSort(right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¸Œå°”æ’åºï¼šä¸å®šæ­¥æ•°çš„æ’å…¥æ’åºï¼Œæ’å…¥æ’åº</li><li>å£è¯€: æ’å†’å½’åŸºç¨³å®šï¼Œå¿«é€‰å †å¸Œä¸ç¨³å®š</li></ul><p><img src="6.png" alt=""></p><p>ç¨³å®šæ€§ï¼š åŒå¤§å°æƒ…å†µä¸‹æ˜¯å¦å¯èƒ½ä¼šè¢«äº¤æ¢ä½ç½®, è™šæ‹Ÿdomçš„diffï¼Œä¸ç¨³å®šæ€§ä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“ï¼›</p><h3 id="4-é€’å½’è¿ç”¨-æ–æ³¢é‚£å¥‘æ•°åˆ—-ï¼š-çˆ¬æ¥¼æ¢¯é—®é¢˜">4. é€’å½’è¿ç”¨(æ–æ³¢é‚£å¥‘æ•°åˆ—)ï¼š çˆ¬æ¥¼æ¢¯é—®é¢˜</h3><p>åˆå§‹åœ¨ç¬¬ä¸€çº§ï¼Œåˆ°ç¬¬ä¸€çº§æœ‰1ç§æ–¹æ³•(s(1) = 1)ï¼Œåˆ°ç¬¬äºŒçº§ä¹Ÿåªæœ‰ä¸€ç§æ–¹æ³•(s(2) = 1)ï¼Œ ç¬¬ä¸‰çº§(s(3) = s(1) + s(2))</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cStairs</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n === <span class="number">1</span> || n === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cStairs(n<span class="number">-1</span>) + cStairs(n<span class="number">-2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-æ•°æ®æ ‘">5. æ•°æ®æ ‘</h3><ul><li>äºŒå‰æ ‘: æœ€å¤šåªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹<ul><li>å®Œå…¨äºŒå‰æ ‘</li><li>æ»¡äºŒå‰æ ‘<ul><li>æ·±åº¦ä¸º h, æœ‰ n ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ»¡è¶³ n = 2^h - 1</li></ul></li></ul></li><li>äºŒå‰æŸ¥æ‰¾æ ‘: æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œèƒ½æœ‰æ•ˆåœ°æé«˜æŸ¥æ‰¾æ•ˆç‡<ul><li>å°å€¼åœ¨å·¦ï¼Œå¤§å€¼åœ¨å³</li><li>èŠ‚ç‚¹ n çš„æ‰€æœ‰å·¦å­æ ‘å€¼å°äº nï¼Œæ‰€æœ‰å³å­æ ‘å€¼å¤§äº n</li></ul></li></ul><p><img src="7.png" alt=""></p><ul><li>éå†èŠ‚ç‚¹<ul><li>å‰åºéå†<ul><li>æ ¹èŠ‚ç‚¹</li><li>è®¿é—®å·¦å­èŠ‚ç‚¹ï¼Œå›åˆ° 1</li><li>è®¿é—®å³å­èŠ‚ç‚¹ï¼Œå›åˆ° 1</li></ul></li><li>ä¸­åºéå†<ul><li>å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹</li><li>è®¿é—®è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</li><li>è®¿é—®è¯¥çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œ å›åˆ° 1</li></ul></li><li>ååºéå†<ul><li>å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹</li><li>è®¿é—®ç›¸é‚»çš„å³èŠ‚ç‚¹</li><li>è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œ å›åˆ° 1</li></ul></li></ul></li><li>æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹</li></ul><h3 id="6-å¤©å¹³æ‰¾æ¬¡å“">6. å¤©å¹³æ‰¾æ¬¡å“</h3><p>æœ‰nä¸ªç¡¬å¸ï¼Œå…¶ä¸­1ä¸ªä¸ºå‡å¸ï¼Œå‡å¸é‡é‡è¾ƒè½»ï¼Œä½ æœ‰ä¸€æŠŠå¤©å¹³ï¼Œè¯·é—®ï¼Œè‡³å°‘éœ€è¦ç§°å¤šå°‘æ¬¡èƒ½ä¿è¯ä¸€å®šæ‰¾åˆ°å‡å¸?</p><ul><li><p>ä¸‰ç­‰åˆ†ç®—æ³•:</p><ul><li>å°†ç¡¬å¸åˆ†æˆ3ç»„ï¼Œéšä¾¿å–å…¶ä¸­ä¸¤ç»„å¤©å¹³ç§°é‡</li></ul></li><li><p>å¹³è¡¡ï¼Œå‡å¸åœ¨æœªä¸Šç§°çš„ä¸€ç»„ï¼Œå–å…¶å›åˆ° 1 ç»§ç»­å¾ªç¯</p><ul><li>ä¸å¹³è¡¡ï¼Œå‡å¸åœ¨å¤©å¹³ä¸Šè¾ƒè½»çš„ä¸€ç»„ï¼Œ å–å…¶å›åˆ° 1 ç»§ç»­å¾ªç¯</li></ul></li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¼˜åŒ–é™æ€JSç­‰èµ„æºå‹ç¼©åšå®¢</title>
      <link href="/posts/301aa5fe/"/>
      <url>/posts/301aa5fe/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h3 id="center-æ¦‚è¿°-é€šè¿‡æŠ€æœ¯æ‰‹æ®µä¼˜åŒ–hexoåšå®¢â¤ï¸-center"><center>æ¦‚è¿°:é€šè¿‡æŠ€æœ¯æ‰‹æ®µä¼˜åŒ–hexoåšå®¢â¤ï¸</center></h3><a id="more"></a><p>é€šè¿‡æŠ€æœ¯æ‰‹æ®µä¼˜åŒ–hexoåšå®¢ï¼Œè¾¾åˆ°æé«˜è®¿é—®é€Ÿåº¦æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ç”¨hexo-neatå¼€æºè½¯ä»¶æ¥å‹ç¼©hexoé™æ€èµ„æº</p><p>ä¸ºä»€ä¹ˆéœ€è¦å‹ç¼©é™æ€èµ„æºï¼ŒåŒ…æ‹¬jsã€cssã€htmlã€å›¾ç‰‡ç­‰æ¥å®ç°æé«˜æ€§èƒ½çš„åŸå› ï¼Œè¿™é‡Œå°±ä¸å†å™è¿°äº†</p><h3 id="å®‰è£…hexo-neatå¼€æºè½¯ä»¶ğŸ˜„">å®‰è£…hexo-neatå¼€æºè½¯ä»¶ğŸ˜„</h3><p>å®‰è£…å‘½ä»¤æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p>å®‰è£…å¤±è´¥çš„è¯ï¼ŒæŸ¥çœ‹ä¸‹æ˜¯å¦æœ‰ç½‘ç»œæƒé™ç­‰åŸå› <br>å®‰è£…æˆåŠŸçš„è¯ï¼Œç»§ç»­ä¸‹é¢æ­¥éª¤</p><h3 id="é…ç½®hexo-config-ymlé…ç½®ğŸ˜„">é…ç½®hexo _config.ymlé…ç½®ğŸ˜„</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-neat å‹ç¼©</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‹ç¼©html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="comment"># å‹ç¼©css  </span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/*.min.css'</span></span><br><span class="line"><span class="comment"># å‹ç¼©js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/*.min.js'</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure><p>å®Œæˆä¹‹åï¼Œé‡æ–°æ‰§è¡Œä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å‹ç¼©æˆåŠŸğŸ˜™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§æ–¹å¼:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-all-minifier --save</span><br></pre></td></tr></table></figure><p>åœ¨hexoæ ¹ç›®å½•ä¸‹çš„<br>_config.ymlä¸­é…ç½®ğŸ˜„:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»£ç å‹ç¼© github.com/chenzhutian/hexo-all-minifier</span></span><br><span class="line"><span class="attr">all_minifier:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">html_minifier:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ignore_error:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">css_minifier:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">'*.min.css'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">js_minifier:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">'*.min.js'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">image_minifier:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># å›¾ç‰‡ä¸å‹ç¼©</span></span><br><span class="line">  <span class="attr">interlaced:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">multipass:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">optimizationLevel:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">pngquant:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">progressive:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo NexTå¼€å¯emoji</title>
      <link href="/posts/66cb08ab/"/>
      <url>/posts/66cb08ab/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-Hexo-å¼€å¯æ¬¢ä¹çš„-emojiä¹‹æ—…ğŸ’›-center"><center>Hexo å¼€å¯æ¬¢ä¹çš„ emojiä¹‹æ—…ğŸ’›</center></h4><a id="more"></a><p>Hexo é»˜è®¤çš„ markdown æ¸²æŸ“å¼•æ“ä¸æ”¯æŒå°† Github emoji æ¸²æŸ“åˆ°é™æ€çš„ html é¡µé¢ä¸­ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ”¯æŒ emoji çš„å¼•æ“ï¼Œå†å¢åŠ ä¸€ä¸ª emoji æ’ä»¶å³å¯</p><h4 id="å®‰è£…">å®‰è£…</h4><p>å‘½ä»¤è¡Œå¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-markdown-it --save</span><br><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure><p>Tips: æ®è¯´<a href="https://github.com/hexojs/hexo-renderer-markdown-it" target="_blank" rel="noopener">hexo-renderer-markdown-it</a>ğŸ‘ˆçš„é€Ÿåº¦è¦æ¯” Hexo åŸè£…æ’ä»¶è¦å¿«ï¼Œè€Œä¸”åŠŸèƒ½æ›´å¤š</p><h4 id="é…ç½®">é…ç½®</h4><p>å®Œæˆæ’ä»¶å®‰è£…åè¿˜éœ€è¦ä¿®æ”¹ Hexo ç«™ç‚¹é…ç½®æ–‡æ¡£ <code>_config.yml</code>åœ¨æœ«å°¾å¤„æ·»åŠ ä»¥ä¸‹ä»£ç ï¼ˆä¸æ˜¯ä¸»é¢˜é…ç½®å“¦ï¼‰ğŸ™‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">'â€œâ€â€˜â€™'</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">'v'</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">Â¶</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„ <code>render:</code> ä¸‹çš„ <code>html:</code> é…ç½®é¡¹ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ§åˆ¶ <code>Markdown</code> æ¸²æŸ“å¼•æ“æ˜¯å¦è½¬ä¹‰æ–‡æ¡£ä¸­å‡ºç°çš„ <code>html</code> æ ‡ç­¾ï¼Œé»˜è®¤ä¸º <code>false</code> ï¼Œè¿™é‡Œè¦è®¾ç½®ä¸º <code>true</code>ï¼Œå¦åˆ™å›å¯¼è‡´ <code>&lt;!--more--&gt;</code> æ¸²æŸ“å¤±è´¥ã€‚</p><p><code>plugins:</code> ä¸­çš„æœ€åä¸€é¡¹ <code>- markdown-it-emoji</code>æ˜¯æ‰‹åŠ¨æ·»åŠ çš„ï¼Œå®˜æ–¹ Github Wiki ä¸­ç»™å‡ºçš„é…ç½®ä¸åŒ…å«è¿™ä¸€é¡¹ï¼Œå…¶ä»–é…ç½®å‚ç…§çš„ Github Wiki ä¸­çš„é»˜è®¤é…ç½®ï¼Œhexo-renderer-markdown-it æä¾›çš„å…¶ä»–æ–°ç‰¹æ€§è¿˜æ²¡æœ‰ä¸€ä¸€å°è¯•ï¼Œæš‚æ—¶åªæƒ³ç”¨å®ƒçš„ emoji åŠŸèƒ½ã€‚</p><h4 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h4><ol><li>åœ¨<a href="https://www.cnblogs.com/wangjs-jacky/p/12011208.html" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢ä»‹ç»çš„Emoji</a> ä¸­æ‰¾åˆ°ä½ æƒ³è¦çš„è¡¨æƒ…ï¼Œç„¶åç‚¹å‡»å¤åˆ¶ç²˜è´´ã€‚</li><li>å¸¸ç”¨çš„emojiå¯ä»¥è®°ä¸‹å®ƒçš„ç¼–ç ï¼Œç›´æ¥è¾“å…¥ï¼Œä¾‹å¦‚ç›´æ¥è¾“å…¥ç¬‘è„¸å¯¹åº”çš„ emoji ç¼–ç  <code>:smile:</code> å°±å¯ä»¥å¾—åˆ° ğŸ˜„ ã€‚</li></ol><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
            <tag> ä¸»é¢˜ç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Githubåšå®¢</title>
      <link href="/posts/831fde7a/"/>
      <url>/posts/831fde7a/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h2 id="center-æ¦‚è¿°-ç½‘ç«™å†…å›¾ç‰‡ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æœ¬åœ°æ–‡ä»¶å¯ä»¥æ˜¾ç¤º-center"><center>æ¦‚è¿°:ç½‘ç«™å†…å›¾ç‰‡ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æœ¬åœ°æ–‡ä»¶å¯ä»¥æ˜¾ç¤º</center></h2><a id="more"></a><p>1.1 é—®é¢˜æè¿°<br>markdownæ–‡ä»¶ä¸­ï¼Œæ’å…¥å›¾ç‰‡çš„æ–¹å¼ä¸º <code>![](æ–‡ä»¶è·¯å¾„)</code>ï¼Œæ­¤æ—¶markdownæ–‡ä»¶å¯ä»¥æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡ã€‚<br>ä½†æ˜¯ä¸€ä¸Šä¼ åˆ°åšå®¢ä¸Šï¼Œä¾¿ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚</p><p>1.2 è§£å†³åŠæ³•<br>1.ä¿®æ”¹ hexo ç›®å½•ä¸‹çš„ .config.yml æ–‡ä»¶ï¼Œ<br>å°† <code>post_asset_folder: false</code> ä¿®æ”¹ä¸º <code>post_asset_folder: true</code>ã€‚</p><p>2.å®‰è£…ä¸€ä¸ªå›¾ç‰‡è·¯å¾„è½¬æ¢çš„æ’ä»¶ã€‚<br>åœ¨hexoæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ Git bushã€‚è¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https:&#x2F;&#x2F;github.com&#x2F;7ym0n&#x2F;hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š è¿™ä½¿ç»è¿‡ä¿®æ”¹çš„æ’ä»¶ä»£ç ï¼Œç½‘ä¸Šæµä¼ çš„å¦ä¸€ä»½ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>å¹¶ä¸èƒ½ä½¿ç”¨ã€‚</p><p>å¦‚æœä½ ä¹‹å‰å®‰è£…äº†è¿™ä¸ªé”™è¯¯çš„æ’ä»¶ï¼Œè¯·å°† /node_modules/hexo-asset-image/index.js<br>è¿™ä¸ªæ–‡ä»¶æ›¿æ¢æˆä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">'cheerio'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPosition</span>(<span class="params">str, m, i</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> str.split(m, i).join(m).length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> version = <span class="built_in">String</span>(hexo.version).split(<span class="string">'.'</span>);</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> config = hexo.config;</span><br><span class="line"><span class="keyword">if</span>(config.post_asset_folder)&#123;</span><br><span class="line">    <span class="keyword">var</span> link = data.permalink;</span><br><span class="line"><span class="keyword">if</span>(version.length &gt; <span class="number">0</span> &amp;&amp; <span class="built_in">Number</span>(version[<span class="number">0</span>]) == <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">3</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html".</span></span><br><span class="line"><span class="keyword">var</span> endPos = link.lastIndexOf(<span class="string">'/'</span>) + <span class="number">1</span>;</span><br><span class="line">link = link.substring(beginPos, endPos);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> toprocess = [<span class="string">'excerpt'</span>, <span class="string">'more'</span>, <span class="string">'content'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> key = toprocess[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class="line">    ignoreWhitespace: <span class="literal">false</span>,</span><br><span class="line">    xmlMode: <span class="literal">false</span>,</span><br><span class="line">    lowerCaseTags: <span class="literal">false</span>,</span><br><span class="line">    decodeEntities: <span class="literal">false</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'img'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'src'</span>))&#123;</span><br><span class="line">        <span class="comment">// For windows style path, we replace '\' to '/'.</span></span><br><span class="line">        <span class="keyword">var</span> src = $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>).replace(<span class="string">'\\'</span>, <span class="string">'/'</span>);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="regexp">/http[s]*.*|\/\/.*/</span>.test(src) &amp;&amp;</span><br><span class="line">            !<span class="regexp">/^\s*\//</span>.test(src)) &#123;</span><br><span class="line">            <span class="comment">// For "about" page, the first part of "src" can't be removed.</span></span><br><span class="line">            <span class="comment">// In addition, to support multi-level local directory.</span></span><br><span class="line">            <span class="keyword">var</span> linkArray = link.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> elem != <span class="string">''</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">var</span> srcArray = src.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> elem != <span class="string">''</span> &amp;&amp; elem != <span class="string">'.'</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">if</span>(srcArray.length &gt; <span class="number">1</span>)</span><br><span class="line">            srcArray.shift();</span><br><span class="line">            src = srcArray.join(<span class="string">'/'</span>);</span><br><span class="line">            $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>, config.root + link + src);</span><br><span class="line">            <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"update link as:--&gt;"</span>+config.root + link + src);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"no src attr, skipped..."</span>);</span><br><span class="line">        <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info($(<span class="keyword">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    data[key] = $.html();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>3.å®‰è£…å®Œä¸Šè¿°æ’ä»¶åï¼Œå½“æˆ‘ä»¬åˆ›å»ºæ–°æ–‡ç« æ—¶ hexo new post â€œnew articleâ€ ï¼Œå°±è‡ªåŠ¨åœ¨ new <a href="http://article.md/" target="_blank" rel="noopener">article.md</a> æ–‡ä»¶çš„åŒç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œå°±æ˜¯æ–‡ä»¶å¤¹ new article ã€‚æˆ‘ä»¬æŠŠåœ¨ new <a href="http://article.md/" target="_blank" rel="noopener">article.md</a> ä½¿ç”¨çš„å›¾ç‰‡æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚<br>æˆ‘ä»¬çš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|- _post  |    |- pictures|    |    |- hexo.png|    |- new article  |    |    |- hexo.png  |    |- new article.md</span><br></pre></td></tr></table></figure><p>4.è¿™é‡Œæˆ‘ä»¬ç»™å‡ºä¸¤ç§åŠæ³•æ¥å¼•ç”¨å›¾ç‰‡ã€‚</p><p>ç›´æ¥ä½¿ç”¨ä»£ç  <code>![](hexo.png)</code> ï¼ˆè™½ç„¶æ²¡æœ‰å†™æ–‡ä»¶å¤¹çš„åå­—ï¼Œä½†æ˜¯å¯ä»¥çš„ï¼‰ï¼Œhexo.png æ˜¯æˆ‘ä»¬å­˜åœ¨ new article æ–‡ä»¶å¤¹å†…çš„å›¾ç‰‡ã€‚è¿™æ—¶ä½ ä¼šå‘ç°markdowné¢„è§ˆä¸­æ— æ³•æ˜¾ç¤ºè¿™å¼ å›¾ç‰‡ï¼Œä½†æ˜¯å½“ä½ å°†åšå®¢ä¸Šä¼ åˆ°ç½‘ç«™æ—¶ï¼Œç½‘ç«™ä¸Šæ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„ã€‚<br>ä½¿ç”¨ä»£ç  <code>![](new article/hexo.png)</code>ä¸ä»…å¯ä»¥æœ¬åœ°é¢„è§ˆï¼Œä¸Šä¼ åˆ°ç½‘ç«™ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚<br>æœ¬åœ°æ— æ³•é¢„è§ˆä¹Ÿæ˜¯ä»¶å¾ˆä¸èˆ’æœçš„äº‹æƒ…ï¼Œå…¶å®æˆ‘ä»¬è¿˜å¯ä»¥å¦å¤–åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ pictures ï¼Œé‡Œé¢ä¸“é—¨å­˜æ”¾æ‰€æœ‰æ–‡ç« çš„å›¾ç‰‡ï¼Œä»£ç  <code>![](pictures/hexo.png)</code> ä¸ä»…å¯ä»¥æœ¬åœ°é¢„è§ˆï¼Œä¸Šä¼ åˆ°ç½‘ç«™ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚<br>æ³¨æ„ï¼š ä¸ç®¡é‡‡å–å“ªç§åŠæ³•ï¼Œéƒ½è¦åˆ›å»ºä¸€ä¸ªå’Œmdæ–‡ä»¶åŒåçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾ä¸Šéœ€è¦çš„å›¾ç‰‡ã€‚<br>å¦‚æœ 2å’Œ3 ä¸­ä»£ç æ— æ³•å®ç°ç½‘ç«™ä¸Šçš„æ­£å¸¸æ˜¾ç¤ºï¼Œé‚£å°±ä½¿ç”¨ 1 ä¸­çš„ä»£ç ã€‚<br>å› ä¸º 2å’Œ3 ä¸­ä»£ç æˆ‘æ— æ³•ä¿è¯æ¯ä¸ªäººéƒ½æˆåŠŸã€‚<br>å‚è€ƒåŠè½¬è½½:<a href="https://blog.csdn.net/qq_36408085/article/details/104117319" target="_blank" rel="noopener">ç¥å¥‡å°æµ·èº</a></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gulpå‹ç¼©--imagemin</title>
      <link href="/posts/1693b9cb/"/>
      <url>/posts/1693b9cb/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h4 id="center-æ¦‚è¿°-å…³äº-TypeError-imagemin-jpegtran-is-not-a-functionğŸ˜¤-center"><center>æ¦‚è¿°:å…³äº <strong>TypeError: imagemin.jpegtran is not a function</strong>ğŸ˜¤</center></h4><a id="more"></a><p>å› ä¸ºæœ€è¿‘åˆšæ­å»ºå¥½åšå®¢ï¼Œæƒ³ç€ä»¥åæ›´æ–°ä¹Ÿä¼šå¾ˆé¢‘ç¹ï¼Œæ–‡ç« å¤ªå¤šä¸åˆ©äºæµè§ˆï¼Œäºæ˜¯æƒ³åˆ°äº†åˆ©ç”¨Gulpè‡ªåŠ¨æ„å»ºå·¥å…·å‹ç¼©é™æ€èµ„æº</p><p>äºæ˜¯å¼€å§‹ä¸‹é¢çš„å®‰è£…ä¹‹æ—…ğŸ™‚</p><h4 id="1-å…¨å±€å®‰è£…gulp">1.å…¨å±€å®‰è£…gulp</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g# æŸ¥çœ‹ç‰ˆæœ¬gulp -v</span><br></pre></td></tr></table></figure><h4 id="2-å®‰è£…gulpæ’ä»¶">2.å®‰è£…gulpæ’ä»¶</h4><p>åœ¨åšå®¢ç«™ç‚¹ç›®å½•ä¸‹å®‰è£…ä»¥ä¸‹æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save</span><br><span class="line">npm install gulp-minify-css --save</span><br><span class="line">npm install gulp-uglify --save</span><br><span class="line">npm install gulp-htmlmin --save</span><br><span class="line">npm install gulp-htmlclean --save</span><br><span class="line">npm install gulp-imagemin --save</span><br><span class="line"># è§£å†³ã€Gulpæ‰“åŒ…é—®é¢˜ã€‘ GulpUglifyError: unable to minify JavaScript</span><br><span class="line"># è§£å†³ gulp-uglify å‹ç¼©JavaScript ä¸å…¼å®¹ es5 è¯­æ³•çš„é—®é¢˜</span><br><span class="line">npm install babel-core@6.26.3 --save</span><br><span class="line">npm install gulp-babel@7.0.1 --save</span><br><span class="line">npm install babel-preset-es2015@6.24.1 --save</span><br><span class="line"># gulp-babel å–æ¶ˆä¸¥æ ¼æ¨¡å¼æ–¹æ³•(&quot;use strict&quot;)</span><br><span class="line">npm install babel-plugin-transform-remove-strict-mode --save</span><br></pre></td></tr></table></figure><p>é—®é¢˜ï¼šå¦‚æœå®‰è£…<code>gulp-imagemin</code>é”™è¯¯è¯·æ‰§è¡Œä»¥ä¸‹è¯­å¥<br><code>sudo npm i gulp-imagemin --unsafe-perms</code></p><h4 id="3-åˆ›å»ºgulpfile-jsæ–‡ä»¶">3.åˆ›å»º<code>gulpfile.js</code>æ–‡ä»¶</h4><p>åœ¨ <code>Hexo</code> ç«™ç‚¹ç›®å½•ä¸‹æ–°å»º<code>gulpfile.js</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">'gulp-babel'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼©cssæ–‡ä»¶</span></span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">done</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">    done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼©htmlæ–‡ä»¶</span></span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">done</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            removeComments: <span class="literal">true</span>,</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">    done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼©jsæ–‡ä»¶</span></span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">done</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'./public/**/*.js'</span>, <span class="string">'!./public/**/*.min.js'</span>])</span><br><span class="line">        .pipe(babel(&#123;</span><br><span class="line">            <span class="comment">//å°†ES6ä»£ç è½¬è¯‘ä¸ºå¯æ‰§è¡Œçš„JSä»£ç </span></span><br><span class="line">            presets: [<span class="string">'es2015'</span>] <span class="comment">// es5æ£€æŸ¥æœºåˆ¶</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">    done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼© public/images ç›®å½•å†…å›¾ç‰‡(Version&lt;3)</span></span><br><span class="line"><span class="comment">// gulp.task('minify-images', function () &#123;</span></span><br><span class="line"><span class="comment">//     gulp.src('./public/images/**/*.*')</span></span><br><span class="line"><span class="comment">//         .pipe(imagemin(&#123;</span></span><br><span class="line"><span class="comment">//             optimizationLevel: 5, //ç±»å‹ï¼šNumber  é»˜è®¤ï¼š3  å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰</span></span><br><span class="line"><span class="comment">//             progressive: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡</span></span><br><span class="line"><span class="comment">//             interlaced: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“</span></span><br><span class="line"><span class="comment">//             multipass: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–</span></span><br><span class="line"><span class="comment">//         &#125;))</span></span><br><span class="line"><span class="comment">//         .pipe(gulp.dest('./public/images'));</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼© public/images ç›®å½•å†…å›¾ç‰‡(Version&gt;3)</span></span><br><span class="line">gulp.task(<span class="string">'minify-images'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">done</span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'./public/images/**/*.*'</span>)</span><br><span class="line">        .pipe(imagemin([</span><br><span class="line">            imagemin.gifsicle(&#123;<span class="attr">interlaced</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">            imagemin.jpegtran(&#123;<span class="attr">progressive</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">            imagemin.optipng(&#123;<span class="attr">optimizationLevel</span>: <span class="number">5</span>&#125;),</span><br><span class="line">            imagemin.svgo(&#123;</span><br><span class="line">                plugins: [</span><br><span class="line">                    &#123;<span class="attr">removeViewBox</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">cleanupIDs</span>: <span class="literal">false</span>&#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public/images'</span>));</span><br><span class="line">    done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.0ä»¥å‰çš„å†™æ³• </span></span><br><span class="line"><span class="comment">//gulp.task('default', [</span></span><br><span class="line"><span class="comment">//  'minify-html', 'minify-css', 'minify-js', 'minify-images'</span></span><br><span class="line"><span class="comment">//]);</span></span><br><span class="line"><span class="comment">//4.0ä»¥åçš„å†™æ³•</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œ gulp å‘½ä»¤æ—¶æ‰§è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">gulp.task(<span class="string">'default'</span>, gulp.series(gulp.parallel(<span class="string">'minify-html'</span>, <span class="string">'minify-css'</span>, <span class="string">'minify-js'</span>, <span class="string">'minify-images'</span>)), <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"----------gulp Finished----------"</span>);</span><br><span class="line">    <span class="comment">// Do something after a, b, and c are finished.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="4-åˆ›å»º-babelrcæ–‡ä»¶">4.åˆ›å»º<code>.babelrc</code>æ–‡ä»¶</h4><p>åœ¨ <code>Hexo</code> ç«™ç‚¹ç›®å½•ä¸‹æ–°å»º<code>.babelrc</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [<span class="string">"es2015"</span>],</span><br><span class="line">    <span class="attr">"plugins"</span>: [<span class="string">"transform-remove-strict-mode"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„:è¿™é‡Œç¬¬ä¸€è¡Œæˆ‘ç”¨åŒå¼•å·ï¼Œ<a href="https://www.jianshu.com/p/1123c89c491a" target="_blank" rel="noopener">åŸä½œè€…åšå®¢æ–‡ç« </a>é‡Œæ˜¯å•å¼•å·ï¼Œå› ä¸ºåœ¨æˆ‘çš„vs codeç¼–è¾‘å™¨é‡Œæç¤ºäº†è¯­æ³•é”™è¯¯</p><h4 id="5ã€é™æ€èµ„æºå‹ç¼©">5ã€é™æ€èµ„æºå‹ç¼©</h4><p>åªéœ€è¦æ¯æ¬¡åœ¨æ‰§è¡Œ <code>generate</code> å‘½ä»¤åæ‰§è¡Œ <code>gulp</code> å°±å¯ä»¥å®ç°å¯¹é™æ€èµ„æºçš„å‹ç¼©</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">gulp</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå¤§å®¶è‚¯å®šè§‰å¾—<code>ok</code>äº†,ç‰›é€¼äº†ğŸ’š,å…¶å®è¿˜æ²¡æœ‰ç»“æŸğŸ˜‚</p><p>å½“æˆ‘æ‰§è¡Œgulpå‘½ä»¤åï¼Œ</p><p><img src="3.png" alt=""></p><p>è¿™æ˜¯æç¤ºæˆ‘æœ‰ä¸€ä¸ªæ¨¡å—æ²¡æœ‰å®‰è£…ï¼Œæ‰¾ä¸åˆ°å¯¹åº”çš„ä¾èµ–</p><p>é‚£ä¹ˆæˆ‘å°±å®‰è£…å‘—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @babel&#x2F;core --save</span><br></pre></td></tr></table></figure><p>ç„¶åç»§ç»­æ‰§è¡Œgulpå‘½ä»¤ï¼Œç»“æœ:</p><p><img src="2.png" alt=""></p><p>è¿™é‡Œå¯¹åº”äº†æ ‡é¢˜ä¹Ÿå°±æ˜¯æˆ‘è‡ªå·±é‡åˆ°çš„é—®é¢˜ï¼Œç‰¹åœ°è®°å½•ä¸‹æ¥ï¼Œé—®é¢˜æè¿°å°±æ˜¯è¯´æˆ‘ä»¬è¿™ä¸ªç”¨åˆ°çš„<code>imagemin.jpegtran</code>ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒğŸ˜­what???ï¼Œè¿™ä¹ˆå‘çš„å˜›ï¼Œç„¶åæˆ‘å°±å»æ‰¾åº¦å¨˜ï¼Œæ‰¾åˆ°äº†å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼Œ<a href="https://stackoverflow.com/questions/60170048/how-to-solve-the-gulp-error-imagemin-jpegtran-is-not-a-function" target="_blank" rel="noopener">åŸæ–‡åœ¨è¿™é‡Œ</a>ğŸ‘ˆ</p><p>å¤§æ¦‚æ„æ€å°±æ˜¯æˆ‘ä»¬ç”¨åˆ°çš„è¿™ä¸ªå‡½æ•°å®ƒä¸åœ¨æˆ‘ä»¬å®‰è£…çš„imageminæ’ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–å®‰è£…å¯¹åº”çš„æ’ä»¶ï¼Œå†™åˆ°è¿™é‡Œï¼Œæˆ‘çœŸè§‰å¾—æœ‰ç‚¹å‘å•Šï¼Œäºæ˜¯æˆ‘ä»¬å®‰è£…å¯¹åº”æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev imagemin-mozjpeg</span><br></pre></td></tr></table></figure><p>ç„¶è€Œæ²¡æœ‰åµç”¨ï¼Œæˆ‘çœŸæœäº†å•ŠğŸ˜­æˆ‘å°±æƒ³æ—¢ç„¶æ²¡ç”¨ï¼Œæˆ‘çŒœæƒ³é‚£è¿™ä¸ªå‡½æ•°è‚¯å®šæ²¡æœ‰åœ¨è¿™ä¸ªæ’ä»¶é‡Œï¼Œäºæ˜¯è‡ªå·±æ‰¾åˆ°å«æœ‰è¿™ä¸ªå‡½æ•°åçš„æ’ä»¶ï¼ŒæŠ±ç€è¯•è¯•çš„å¿ƒæ€ç»§ç»­æŠ˜è…¾ä¸€ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save imagemin-jpegtran</span><br></pre></td></tr></table></figure><p>ç„¶åæ·»åŠ ä»¥ä¸‹ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> imageminJpegtran = <span class="built_in">require</span>(<span class="string">'imagemin-jpegtran'</span>);</span><br><span class="line"><span class="comment">// imagemin.jpegtran(&#123;progressive: true&#125;),</span></span><br><span class="line"><span class="comment">//å°†ä¸Šé¢å¯¹åº”ä»£ç æ›¿æ¢ä¸ºè¿™å¥ï¼Œæ³¨æ„å¥å°¾æœ‰é€—å·é—´éš”</span></span><br><span class="line">&#123;<span class="attr">use</span>: [imageminJpegtran()]&#125;,</span><br></pre></td></tr></table></figure><p>ç„¶è€Œæœ€åè¿˜æ˜¯æ²¡æœ‰æˆåŠŸæŠ¥é”™å¦‚ä¸‹:</p><p><img src="4.png" alt=""></p><p>åæ¥æˆ‘æ›´æ”¹ä»£ç å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"> <span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"> <span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"> <span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"> <span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line"> <span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å‹ç¼©cssæ–‡ä»¶</span></span><br><span class="line"> gulp.task(<span class="string">'minify-css'</span>,<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">     .pipe(minifycss())</span><br><span class="line">     .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å‹ç¼©htmlæ–‡ä»¶</span></span><br><span class="line"> gulp.task(<span class="string">'minify-html'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">     .pipe(htmlclean())</span><br><span class="line">     .pipe(htmlmin(&#123;</span><br><span class="line">       removeComments: <span class="literal">true</span>,</span><br><span class="line">       minifyJS: <span class="literal">true</span>,</span><br><span class="line">       minifyCSS: <span class="literal">true</span>,</span><br><span class="line">       minifyURLs: <span class="literal">true</span>,</span><br><span class="line">     &#125;))</span><br><span class="line">     .pipe(gulp.dest(<span class="string">'./public'</span>))</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å‹ç¼©jsæ–‡ä»¶</span></span><br><span class="line"> gulp.task(<span class="string">'minify-js'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.js'</span>)</span><br><span class="line">     .pipe(uglify())</span><br><span class="line">     .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å‹ç¼© public/images ç›®å½•å†…å›¾ç‰‡</span></span><br><span class="line"> gulp.task(<span class="string">'minify-images'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   gulp.src(<span class="string">'./public/images/**/*.*'</span>)</span><br><span class="line">     .pipe(imagemin(&#123;</span><br><span class="line">       optimizationLevel: <span class="number">5</span>, <span class="comment">//ç±»å‹ï¼šNumber  é»˜è®¤ï¼š3  å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰</span></span><br><span class="line">       progressive: <span class="literal">true</span>, <span class="comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡</span></span><br><span class="line">       interlaced: <span class="literal">false</span>, <span class="comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“</span></span><br><span class="line">       multipass: <span class="literal">false</span>, <span class="comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–</span></span><br><span class="line">     &#125;))</span><br><span class="line">     .pipe(gulp.dest(<span class="string">'./public/images'</span>));</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// é»˜è®¤ä»»åŠ¡</span></span><br><span class="line"> gulp.task(<span class="string">'default'</span>, gulp.series(gulp.parallel(<span class="string">'minify-html'</span>, <span class="string">'minify-css'</span>, <span class="string">'minify-js'</span>, <span class="string">'minify-images'</span>)), <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"----------gulp Finished----------"</span>);</span><br><span class="line">    <span class="comment">// Do something after a, b, and c are finished.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç»ˆäºå‹ç¼©æˆåŠŸä½†æ˜¯ä¸è¶³çš„æ˜¯å‹ç¼©é‡æ²¡é‚£ä¹ˆå¤šï¼Œå†æƒ³æƒ³å…¶ä»–åŠæ³•ğŸ˜¥</p><p><img src="5.png" alt=""></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flexå¸ƒå±€</title>
      <link href="/posts/ab688311/"/>
      <url>/posts/ab688311/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h2 id="center-ç§»åŠ¨webå¼€å‘â€”â€”flexå¸ƒå±€-center"><center>ç§»åŠ¨webå¼€å‘â€”â€”flexå¸ƒå±€</center></h2><a id="more"></a><h2 id="ä¼ ç»Ÿå¸ƒå±€å’Œflexå¸ƒå±€å¯¹æ¯”">ä¼ ç»Ÿå¸ƒå±€å’Œflexå¸ƒå±€å¯¹æ¯”</h2><h3 id="ä¼ ç»Ÿå¸ƒå±€">ä¼ ç»Ÿå¸ƒå±€</h3><ul><li>å…¼å®¹æ€§å¥½</li><li>å¸ƒå±€ç¹ç</li><li>å±€é™æ€§ï¼Œä¸èƒ½å†ç§»åŠ¨ç«¯å¾ˆå¥½çš„å¸ƒå±€</li></ul><h3 id="flexå¸ƒå±€">flexå¸ƒå±€</h3><ul><li>æ“ä½œæ–¹ä¾¿ï¼Œå¸ƒå±€æå…¶ç®€å•ï¼Œç§»åŠ¨ç«¯ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›</li><li>pcç«¯æµè§ˆå™¨æ”¯æŒæƒ…å†µæ¯”è¾ƒå·®</li><li>IE11æˆ–æ›´ä½ç‰ˆæœ¬ä¸æ”¯æŒflexæˆ–ä»…æ”¯æŒéƒ¨åˆ†</li></ul><h3 id="å»ºè®®">å»ºè®®</h3><ul><li>å¦‚æœæ˜¯pcç«¯é¡µé¢å¸ƒå±€ï¼Œè¿˜æ˜¯é‡‡ç”¨ä¼ ç»Ÿæ–¹å¼</li><li>å¦‚æœæ˜¯ç§»åŠ¨ç«¯æˆ–è€…æ˜¯ä¸è€ƒè™‘å…¼å®¹çš„pcåˆ™é‡‡ç”¨flex</li></ul><h2 id="flexå¸ƒå±€åŸç†">flexå¸ƒå±€åŸç†</h2><ul><li>flex æ˜¯ flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º&quot;å¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ï¼Œä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸º flex å¸ƒå±€ã€‚</li><li>å½“æˆ‘ä»¬ä¸ºçˆ¶ç›’å­è®¾ä¸º flex å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„ floatã€clear å’Œ vertical-align å±æ€§å°†å¤±æ•ˆã€‚</li><li>flexå¸ƒå±€åˆå«ä¼¸ç¼©å¸ƒå±€ ã€å¼¹æ€§å¸ƒå±€ ã€ä¼¸ç¼©ç›’å¸ƒå±€ ã€å¼¹æ€§ç›’å¸ƒå±€</li><li>é‡‡ç”¨ Flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º Flex å®¹å™¨ï¼ˆflex</li></ul><p>containerï¼‰ï¼Œç®€ç§°&quot;å®¹å™¨&quot;ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º Flex é¡¹ç›®ï¼ˆflex<br>itemï¼‰ï¼Œç®€ç§°&quot;é¡¹ç›®&quot;ã€‚</p><p><strong>æ€»ç»“</strong>ï¼šå°±æ˜¯é€šè¿‡ç»™çˆ¶ç›’å­æ·»åŠ flexå±æ€§ï¼Œæ¥æ§åˆ¶å­ç›’å­çš„ä½ç½®å’Œæ’åˆ—æ–¹å¼</p><h2 id="çˆ¶é¡¹å¸¸è§å±æ€§">çˆ¶é¡¹å¸¸è§å±æ€§</h2><ul><li>flex-directionï¼šè®¾ç½®ä¸»è½´çš„æ–¹å‘</li><li>justify-contentï¼šè®¾ç½®ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼</li><li>flex-wrapï¼šè®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ</li><li>align-contentï¼šè®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰</li><li>align-itemsï¼šè®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰</li><li>flex-flowï¼šå¤åˆå±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®äº† flex-direction å’Œ flex-wrap</li></ul><h3 id="flex-directionè®¾ç½®ä¸»è½´çš„æ–¹å‘">flex-directionè®¾ç½®ä¸»è½´çš„æ–¹å‘</h3><ul><li><p>åœ¨ flex å¸ƒå±€ä¸­ï¼Œæ˜¯åˆ†ä¸ºä¸»è½´å’Œä¾§è½´ä¸¤ä¸ªæ–¹å‘ï¼ŒåŒæ ·çš„å«æ³•æœ‰ ï¼š è¡Œå’Œåˆ—ã€x è½´å’Œy è½´</p></li><li><p>é»˜è®¤ä¸»è½´æ–¹å‘å°±æ˜¯ x è½´æ–¹å‘ï¼Œæ°´å¹³å‘å³</p></li><li><p>é»˜è®¤ä¾§è½´æ–¹å‘å°±æ˜¯ y è½´æ–¹å‘ï¼Œæ°´å¹³å‘ä¸‹</p><p><img src="1.JPG" alt=""></p></li><li><p>æ³¨æ„ï¼š ä¸»è½´å’Œä¾§è½´æ˜¯ä¼šå˜åŒ–çš„ï¼Œå°±çœ‹ flex-direction è®¾ç½®è°ä¸ºä¸»è½´ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¾§è½´ã€‚è€Œæˆ‘ä»¬çš„å­å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„</p><p><img src="2.JPG" alt=""></p></li></ul><h3 id="justify-content-è®¾ç½®ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼">justify-content è®¾ç½®ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼</h3><p><img src="3.JPG" alt=""></p><h3 id="flex-wrapè®¾ç½®æ˜¯å¦æ¢è¡Œ">flex-wrapè®¾ç½®æ˜¯å¦æ¢è¡Œ</h3><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½æ’åœ¨ä¸€æ¡çº¿ï¼ˆåˆç§°â€è½´çº¿â€ï¼‰ä¸Šã€‚flex-wrapå±æ€§å®šä¹‰ï¼Œflexå¸ƒå±€ä¸­é»˜è®¤æ˜¯ä¸æ¢è¡Œçš„ã€‚</li><li>nowrap ä¸æ¢è¡Œ</li><li>wrap æ¢è¡Œ</li></ul><h3 id="align-items-è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œ-ï¼‰">align-items è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œ ï¼‰</h3><ul><li>è¯¥å±æ€§æ˜¯æ§åˆ¶å­é¡¹åœ¨ä¾§è½´ï¼ˆé»˜è®¤æ˜¯yè½´ï¼‰ä¸Šçš„æ’åˆ—æ–¹å¼ åœ¨å­é¡¹ä¸ºå•é¡¹ï¼ˆå•è¡Œï¼‰çš„æ—¶å€™ä½¿ç”¨</li><li>flex-start ä»å¤´éƒ¨å¼€å§‹</li><li>flex-end ä»å°¾éƒ¨å¼€å§‹</li><li>center å±…ä¸­æ˜¾ç¤º</li><li>stretch æ‹‰ä¼¸</li></ul><h3 id="align-content-è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰">align-content è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰</h3><p>è®¾ç½®å­é¡¹åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ å¹¶ä¸”åªèƒ½ç”¨äºå­é¡¹å‡ºç° æ¢è¡Œ çš„æƒ…å†µï¼ˆå¤šè¡Œï¼‰ï¼Œåœ¨å•è¡Œä¸‹æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚</p><p>â€‹<img src="4.JPG" alt=""></p><h3 id="align-content-å’Œalign-itemsåŒºåˆ«">align-content å’Œalign-itemsåŒºåˆ«</h3><ul><li>align-items é€‚ç”¨äºå•è¡Œæƒ…å†µä¸‹ï¼Œ åªæœ‰ä¸Šå¯¹é½ã€ä¸‹å¯¹é½ã€å±…ä¸­å’Œ æ‹‰ä¼¸</li><li>align-contenté€‚åº”äºæ¢è¡Œï¼ˆå¤šè¡Œï¼‰çš„æƒ…å†µä¸‹ï¼ˆå•è¡Œæƒ…å†µä¸‹æ— æ•ˆï¼‰ï¼Œ å¯ä»¥è®¾ç½® ä¸Šå¯¹é½ã€ä¸‹å¯¹é½ã€å±…ä¸­ã€æ‹‰ä¼¸ä»¥åŠå¹³å‡åˆ†é…å‰©ä½™ç©ºé—´ç­‰å±æ€§å€¼ã€‚</li><li>æ€»ç»“å°±æ˜¯å•è¡Œæ‰¾align-items å¤šè¡Œæ‰¾ align-content</li></ul><h3 id="flex-flow-å±æ€§æ˜¯-flex-direction-å’Œ-flex-wrap-å±æ€§çš„å¤åˆå±æ€§">flex-flow å±æ€§æ˜¯ flex-direction å’Œ flex-wrap å±æ€§çš„å¤åˆå±æ€§</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flex-flow:row wrap;</span><br></pre></td></tr></table></figure><h2 id="flexå¸ƒå±€å­é¡¹å¸¸è§å±æ€§">flexå¸ƒå±€å­é¡¹å¸¸è§å±æ€§</h2><ul><li>flexå­é¡¹ç›®å çš„ä»½æ•°</li><li>align-selfæ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´çš„æ’åˆ—æ–¹å¼</li><li>orderå±æ€§å®šä¹‰å­é¡¹çš„æ’åˆ—é¡ºåºï¼ˆå‰åé¡ºåºï¼‰</li></ul><h3 id="flex-å±æ€§">flex å±æ€§</h3><p>flex å±æ€§å®šä¹‰å­é¡¹ç›®åˆ†é…å‰©ä½™ç©ºé—´ï¼Œç”¨flexæ¥è¡¨ç¤ºå å¤šå°‘ä»½æ•°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    </span><br><span class="line"><span class="attribute">flex</span>: &lt;number&gt;; <span class="comment">/* é»˜è®¤å€¼ 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="align-selfæ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼">align-selfæ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼</h3><p>align-self å±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§ã€‚</p><p>é»˜è®¤å€¼ä¸º autoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„ align-items å±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäº stretchã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(2)</span> &#123;      </span><br><span class="line">    <span class="comment">/* è®¾ç½®è‡ªå·±åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ */</span>      </span><br><span class="line">    <span class="attribute">align-self</span>: flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="order-å±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº">order å±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº</h3><p>æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚</p><p>æ³¨æ„ï¼šå’Œ z-index ä¸ä¸€æ ·ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;    </span><br><span class="line">    <span class="attribute">order</span>: &lt;number&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csså±…ä¸­çš„å‡ ç§æ–¹å¼</title>
      <link href="/posts/fc1b53fb/"/>
      <url>/posts/fc1b53fb/</url>
      
        <content type="html"><![CDATA[<!-- build time:Tue Mar 10 2020 20:27:23 GMT+0800 (GMT+08:00) --><h3 id="center-æ¦‚è¿°-å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜CSSå±…ä¸­æ–¹å¼â¤ï¸-center"><center>æ¦‚è¿°: å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜CSSå±…ä¸­æ–¹å¼â¤ï¸</center></h3><a id="more"></a><h3 id="1-æ°´å¹³å±…ä¸­çš„-marginï¼š0-autoğŸ˜Š">1.æ°´å¹³å±…ä¸­çš„ marginï¼š0 autoğŸ˜Š</h3><p>è¿™ä¸ªæ˜¯ä½œç”¨åœ¨å­å…ƒç´ ä¸Šï¼Œç»™çˆ¶å…ƒç´ æ·»åŠ ï¼Œçˆ¶å…ƒç´ ä¹Ÿä¼šæ°´å¹³å±…ä¸­ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">3px</span> solid red;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../images/2.jpg" alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="2.png" alt="æ°´å¹³å±…ä¸­1"></p><h3 id="2-æ°´å¹³å±…ä¸­-text-align-centerğŸ˜Š">2.æ°´å¹³å±…ä¸­ text-align: centerğŸ˜Š</h3><p>imgçš„<code>display:inline-block</code>; ä¸å—floatå½±å“,å®è´¨æ˜¯åœ¨çˆ¶å…ƒç´ ä¸Šæ·»åŠ æ•ˆæœè®©å®ƒè¿›è¡Œæ°´å¹³å±…ä¸­ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">3px</span> solid red;</span><br><span class="line">        <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="comment">/*margin: 0 auto;*/</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../images/2.jpg" alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="2.png" alt="æ°´å¹³å±…ä¸­2"></p><h3 id="3-æ°´å¹³å‚ç›´å±…ä¸­-ä¸€-å®šä½å’Œå®šä½å…ƒç´ çš„marginå‡å»å®½é«˜çš„ä¸€åŠğŸ˜Š">3.æ°´å¹³å‚ç›´å±…ä¸­(ä¸€)å®šä½å’Œå®šä½å…ƒç´ çš„marginå‡å»å®½é«˜çš„ä¸€åŠğŸ˜Š</h3><p>è¿™ç§æ–¹æ³•å±€é™æ€§åœ¨äºéœ€è¦çŸ¥é“å‚ç›´å±…ä¸­çš„å®½é«˜æ‰èƒ½å®ç°ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#e9df7c</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid skyblue;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">margin-top</span>: -<span class="number">75px</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: -<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../images/sun.jpg" alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="3.png" alt="æ°´å¹³å‚ç›´å±…ä¸­ä¸€"></p><h3 id="4-æ°´å¹³å‚ç›´å±…ä¸­-äºŒ-å®šä½å’Œmargin-autoğŸ˜Š">4.æ°´å¹³å‚ç›´å±…ä¸­(äºŒ)å®šä½å’Œmargin:autoğŸ˜Š</h3><p>è¿™ä¸ªæ–¹æ³•å¾ˆå®ç”¨ï¼Œä¸éœ€è¦çŸ¥é“å®½é«˜ï¼Œä¸å—å…¶é™åˆ¶ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#e9dfc7</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid skyblue;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">    &lt;div class="box"&gt;</span><br><span class="line">        &lt;img src="../img/01.png"&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="1.png" alt="æ°´å¹³å‚ç›´å±…ä¸­äºŒ"></p><h3 id="5-æ°´å¹³å‚ç›´å±…ä¸­-ä¸‰-ç»å¯¹å®šä½å’ŒtransformğŸ˜Š">5.æ°´å¹³å‚ç›´å±…ä¸­(ä¸‰)ç»å¯¹å®šä½å’ŒtransformğŸ˜Š</h3><p>è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒé«˜çº§äº†ï¼Œç”¨åˆ°äº†å½¢å˜ï¼Œå¾ˆå¤šå¤§ä½¬å–œæ¬¢ä½¿ç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œå®šä½ï¼Œé€¼æ ¼å¾ˆé«˜çš„ï¼Œå­¦ä¼šåé¢è¯•ä¸€å®šè¦ç”¨ï¼è¿™ä¸ªæ˜¯ä¸éœ€è¦çŸ¥é“å±…ä¸­å…ƒç´ çš„å®½é«˜å°±å¯ä»¥ä½¿ç”¨çš„ï¼Œä»£ç é‡Œçš„å›¾ç‰‡ç¨å¾®æœ‰ç‚¹å¤§ï¼Œæ”¹æ”¹å®½é«˜ï¼Œä»…æ­¤è€Œå·²ï¼Œåœ¨é¢è¯•ä¸­å¤§éƒ¨åˆ†äººä¼šé—®å¦‚æœä¸çŸ¥é“å®½é«˜è¯¥å¦‚ä½•å±…ä¸­ï¼Œç­”è¿™ä¸ªï¼ŒåŠ åˆ†ï¼ğŸ‘å¯¹transformä¸äº†è§£çš„åŒå­¦å¯ä»¥æŸ¥é˜…ä¸€ä¸‹èµ„æ–™äº†è§£ä¸€ä¸‹ï¼</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> &lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"> <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#e9dfc7</span>;</span><br><span class="line"> <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line"> <span class="attribute">position</span>: relative;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../img/04.png"&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="4.png" alt="æ°´å¹³å‚ç›´å±…ä¸­ä¸‰"></p><h3 id="6-æ°´å¹³å‚ç›´å±…ä¸­-å››-display-table-cellğŸ˜Š">6.æ°´å¹³å‚ç›´å±…ä¸­(å››)display:table-cellğŸ˜Š</h3><p>å…¶å®å°±æ˜¯æŠŠå…¶å˜æˆè¡¨æ ¼æ ·å¼ï¼Œå†æŒ‰ç…§è¡¨æ ¼çš„æ ·å¼è¿›è¡Œå±…ä¸­ï¼Œå¾ˆæ–¹ä¾¿ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#e9dfc7</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid hotpink;</span><br><span class="line"><span class="attribute">display</span>: table-cell;</span><br><span class="line"><span class="attribute">vertical-align</span>: middle;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../img/05.png"alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="5.png" alt="æ°´å¹³å‚ç›´å±…ä¸­å››"></p><h3 id="7-æ°´å¹³å‚ç›´å±…ä¸­-äº”-flexBoxå±…ä¸­ğŸ˜Š">7.æ°´å¹³å‚ç›´å±…ä¸­(äº”)flexBoxå±…ä¸­ğŸ˜Š</h3><p>è¿™ä¸ªä½¿ç”¨äº†CSS3çš„æ–°ç‰¹æ€§flexï¼Œéå¸¸æ–¹ä¾¿å¿«æ·ï¼Œåœ¨ç§»åŠ¨ç«¯ä½¿ç”¨å®Œç¾ï¼Œpcç«¯æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œè¯¦ç»†çš„flexçŸ¥è¯†ç‚¹å¯ä»¥å‚è€ƒæˆ‘çš„<a href="https://mcgaixuexi.github.io/2020/03/04/Flex%E5%B8%83%E5%B1%80/" target="_blank" rel="noopener">Flexå¸ƒå±€</a>ğŸ‘ˆè¿™ç¯‡æ–‡ç« ğŸ’ª</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#e9dfc7</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid hotpink;</span><br><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">justify-content</span>: center;</span><br><span class="line"><span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;img src="../img/03.png"alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="6.png" alt="æ°´å¹³å‚ç›´å±…ä¸­äº”"></p><h3 id="8-æ°´å¹³å‚ç›´å±…ä¸­-å…­-vertical-align-middleğŸ˜Š">8.æ°´å¹³å‚ç›´å±…ä¸­(å…­)vertical-align:middleğŸ˜Š</h3><p>è¿™æ–¹æ³•ä¸å¸¸è§ï¼Œä½†æ˜¯æœ‰ä½ç½‘å‹è¡¥å……åè¿˜æ˜¯å¯ä»¥çš„ï¼Œè¿™ä¸ªæ–¹æ³•å…³é”®è¦æœ‰ä¸€ä¸ªå’Œå®¹å™¨ä¸€æ ·é«˜çš„çš„å…ƒç´ ä½œä¸ºå±…ä¸­çš„ä¸€ä¸ªå‚ç…§ï¼Œå°±å¦‚bå…ƒç´ ä¸€æ ·ğŸ‘</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>);</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cz</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-flex;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"><span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-block;</span><br><span class="line"><span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;b class="cz"&gt;&lt;/b&gt;</span><br><span class="line">&lt;img src="../img/06.png"alt=""&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤º:</p><p><img src="7.png" alt="æ°´å¹³å‚ç›´å±…ä¸­å…­"></p><h4 id="æ–‡ç« å°±åˆ°è¿™é‡Œï¼Œè°¢è°¢å¤§å®¶æ”¯æŒï¼Œè¯·å¤šå¤šææ„è§ğŸ˜„å‚è€ƒè¿™ä½ç½‘å‹çš„æ–‡ç« ğŸ‘ˆ">æ–‡ç« å°±åˆ°è¿™é‡Œï¼Œè°¢è°¢å¤§å®¶æ”¯æŒï¼Œè¯·å¤šå¤šææ„è§ğŸ˜„<a href="https://www.jianshu.com/p/a7552ce07c88" target="_blank" rel="noopener">å‚è€ƒè¿™ä½ç½‘å‹çš„æ–‡ç« </a>ğŸ‘ˆ</h4><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
